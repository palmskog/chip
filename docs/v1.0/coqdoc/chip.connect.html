<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">chip.connect</h1>

<div class="code">
<span class="id" title="var">From</span> <span class="id" title="var">mathcomp</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">all_ssreflect</span>.<br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">chip</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="chip.extra.html#"><span class="id" title="library">extra</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Fin"><span class="id" title="section">Fin</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="Fin.V"><span class="id" title="variable">V</span></a> : <span class="id" title="abbreviation">finType</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Fin.Diconnect"><span class="id" title="section">Diconnect</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="Fin.Diconnect.g"><span class="id" title="variable">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x -[]-&gt; y" := <br/>
&nbsp;&nbsp;(<span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#Fin.Diconnect.g"><span class="id" title="variable">g</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  -[]-&gt;  y") .<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_rev"><span class="id" title="lemma">connect_rev</span></a> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) :<br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#Fin.Diconnect.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">connect</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.connect.html#Fin.Diconnect.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">]</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">connectP</span>[<span class="id" title="var">p</span> <span class="id" title="var">Pxp</span> -&gt;].<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">Pxp</span> =&gt; // <span class="id" title="var">z</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span> /=/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">xGy</span> /<span class="id" title="var">IH</span> <span class="id" title="var">sCz</span>].<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect_trans</span> <span class="id" title="var">sCz</span> (<span class="id" title="lemma">connect1</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="diconnect"><span class="id" title="definition">diconnect</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> := <span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#Fin.Diconnect.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#Fin.Diconnect.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="diconnect0"><span class="id" title="lemma">diconnect0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#reflexive"><span class="id" title="definition">reflexive</span></a> <a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x</span>; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="diconnect_sym"><span class="id" title="lemma">diconnect_sym</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#symmetric"><span class="id" title="definition">symmetric</span></a> <a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt; [] []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="diconnect_trans"><span class="id" title="lemma">diconnect_trans</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#transitive"><span class="id" title="definition">transitive</span></a> <a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">Cyx</span> <span class="id" title="var">Cxy</span>] /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">Cxz</span> <span class="id" title="var">Czx</span>].<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> (<span class="id" title="lemma">connect_trans</span> <span class="id" title="var">Cyx</span>) ?(<span class="id" title="lemma">connect_trans</span> <span class="id" title="var">Czx</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="chip.connect.html#Fin.Diconnect"><span class="id" title="section">Diconnect</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eq_diconnect"><span class="id" title="lemma">eq_diconnect</span></a> <span class="id" title="var">r1</span> <span class="id" title="var">r2</span> : <a class="idref" href="chip.connect.html#r1"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <a class="idref" href="chip.connect.html#r2"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> <a class="idref" href="chip.connect.html#r1"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> <a class="idref" href="chip.connect.html#r2"><span class="id" title="variable">r2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">r1Er2</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> !(<span class="id" title="lemma">eq_connect</span> <span class="id" title="var">r1Er2</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Fin.Relto"><span class="id" title="section">Relto</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="Fin.Relto.g"><span class="id" title="variable">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x -[ s ]-&gt; y" := <br/>
&nbsp;&nbsp;(<span class="id" title="definition">connect</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel_of_simpl_rel"><span class="id" title="definition">rel_of_simpl_rel</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">s</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>)) <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  -[ s ]-&gt;  y").<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x -[]-&gt; y" := <br/>
&nbsp;&nbsp;(<span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  -[]-&gt;  y") .<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x =[]= y" := (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  =[]=  y").<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x =[ a ]= y" := (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel_of_simpl_rel"><span class="id" title="definition">rel_of_simpl_rel</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>)) <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  =[ a ]=  y").<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_to_from"><span class="id" title="lemma">connect_to_from</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">connect</span> (<a class="idref" href="chip.extra.html#relfrom"><span class="id" title="definition">relfrom</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">]</span></a>) <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; /<a class="idref" href="chip.connect.html#connect_rev"><span class="id" title="lemma">connect_rev</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect_sub</span> =&gt; <span class="id" title="var">x1</span> <span class="id" title="var">y1</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect1</span> .<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_from_to"><span class="id" title="lemma">connect_from_to</span></a>  <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> (<a class="idref" href="chip.extra.html#relfrom"><span class="id" title="definition">relfrom</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>) <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">connect</span> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">]</span></a>) <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; /<a class="idref" href="chip.connect.html#connect_rev"><span class="id" title="lemma">connect_rev</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect_sub</span> =&gt; <span class="id" title="var">x1</span> <span class="id" title="var">y1</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect1</span> .<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_to1"><span class="id" title="lemma">connect_to1</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">ay</span> <span class="id" title="var">Rxy</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect1</span>; <span class="id" title="tactic">rewrite</span> /= [<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">_</span>]<span class="id" title="var">ay</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_toW"><span class="id" title="lemma">connect_toW</span></a> <span class="id" title="var">a</span>: <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#subrel"><span class="id" title="definition">subrel</span></a> (<span class="id" title="definition">connect</span> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>)) (<span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect_sub</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">_</span> <span class="id" title="var">H</span>]; <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect1</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_to_sub"><span class="id" title="lemma">connect_to_sub</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <br/>
&nbsp;<a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">subsetP</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connect_sub</span> =&gt; <span class="id" title="var">x1</span> <span class="id" title="var">y1</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">y1Ia</span> <span class="id" title="var">x1Ry1</span>].<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_to1"><span class="id" title="lemma">connect_to1</span></a> (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="diconnect_to_sub"><span class="id" title="lemma">diconnect_to_sub</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hs</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">Cxy</span> <span class="id" title="var">Cyx</span>]; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> !(<a class="idref" href="chip.connect.html#connect_to_sub"><span class="id" title="lemma">connect_to_sub</span></a> <span class="id" title="var">Hs</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eq_diconnect_to"><span class="id" title="lemma">eq_diconnect_to</span></a> (<span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> :  <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035"><span class="id" title="notation">=1</span></a> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">aEb</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#eq_diconnect"><span class="id" title="lemma">eq_diconnect</span></a>=&gt; <span class="id" title="var">x1</span> <span class="id" title="var">y1</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= -!<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> /= <span class="id" title="var">aEb</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="diconnect_to_predT"><span class="id" title="lemma">diconnect_to_predT</span></a> :  <a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#predT"><span class="id" title="definition">predT</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_toT"><span class="id" title="lemma">connect_toT</span></a> :  <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">(</span></a><span class="id" title="definition">connect</span> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#predT"><span class="id" title="definition">predT</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">(</span></a><span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> []. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_to_forced"><span class="id" title="lemma">connect_to_forced</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">z</span>, <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#9f2f3cc6a4234ba12ff5cdb492eb69eb"><span class="id" title="notation">-[]-&gt;</span></a> <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="chip.connect.html#9f2f3cc6a4234ba12ff5cdb492eb69eb"><span class="id" title="notation">-[]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#9f2f3cc6a4234ba12ff5cdb492eb69eb"><span class="id" title="notation">-[]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hf</span> /<span class="id" title="lemma">connectP</span>[<span class="id" title="var">p</span> {<span class="id" title="var">p</span>}/<span class="id" title="lemma">shortenP</span>[<span class="id" title="var">p</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Up</span> <span class="id" title="var">_</span> <span class="id" title="var">Hy</span>]].<br/>
<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> {-2 4}<span class="id" title="var">x</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Up</span> <span class="id" title="var">Hp</span> (<span class="id" title="lemma">connect0</span> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>) <span class="id" title="var">x</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;[<span class="id" title="var">z</span> /=-&gt; <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hz</span>| <span class="id" title="var">z</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> /= <span class="id" title="var">z1</span> <span class="id" title="var">Hy</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#and3P"><span class="id" title="lemma">and3P</span></a>[<span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>] /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">Rxy</span> <span class="id" title="var">Pp</span>] <span class="id" title="var">Hz1</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="notation">[::]</span>.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negb_or"><span class="id" title="lemma">negb_or</span></a> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">xDz</span> <span class="id" title="var">H1</span>].<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Az</span> : <span class="id" title="var">a</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">Hf</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eq_sym</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect_trans</span> (<a class="idref" href="chip.connect.html#connect_toW"><span class="id" title="lemma">connect_toW</span></a> <span class="id" title="var">Hz1</span>) (<span class="id" title="lemma">connect1</span> <span class="id" title="var">Rxy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Raz</span> : <span class="id" title="var">x</span> <a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">-[</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">]-&gt;</span></a> <span class="id" title="var">z</span>.<br/>
&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">connect_trans</span> <span class="id" title="var">Hz1</span> (<a class="idref" href="chip.connect.html#connect_to1"><span class="id" title="lemma">connect_to1</span></a> <span class="id" title="var">Az</span> <span class="id" title="var">Rxy</span>).<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Uxp</span> : <span class="id" title="definition">uniq</span> (<span class="id" title="var">x</span> <span class="id" title="notation">::</span> <span class="id" title="var">p</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="var">H1</span>.<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">p1</span> <span class="id" title="var">H1p1</span> <span class="id" title="var">H2p1</span>] := <span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Uxp</span> <span class="id" title="var">Pp</span> <span class="id" title="var">Raz</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> (<span class="id" title="var">z</span> <span class="id" title="notation">::</span> <span class="id" title="var">p1</span>); <span class="id" title="tactic">rewrite</span> //= [<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">_</span>]<span class="id" title="var">Az</span> <span class="id" title="var">Rxy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="reltoI"><span class="id" title="lemma">reltoI</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#predI"><span class="id" title="definition">predI</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_to_C1r"><span class="id" title="lemma">connect_to_C1r</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="chip.connect.html#9f2f3cc6a4234ba12ff5cdb492eb69eb"><span class="id" title="notation">-[]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#9f2f3cc6a4234ba12ff5cdb492eb69eb"><span class="id" title="notation">-[]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">-[</span></a><span class="id" title="definition">predC1</span> <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hzy</span> <span class="id" title="var">Hxy</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_to_forced"><span class="id" title="lemma">connect_to_forced</span></a> =&gt; //= <span class="id" title="var">z1</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>=&gt; <span class="id" title="var">H4</span>; <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hzy</span>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H4</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_to_C1l"><span class="id" title="lemma">connect_to_C1l</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#9f2f3cc6a4234ba12ff5cdb492eb69eb"><span class="id" title="notation">-[]-&gt;</span></a> <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#9f2f3cc6a4234ba12ff5cdb492eb69eb"><span class="id" title="notation">-[]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">-[</span></a><span class="id" title="definition">predC1</span> <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a><a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hzy</span> <span class="id" title="var">Hxy</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_to_forced"><span class="id" title="lemma">connect_to_forced</span></a> =&gt; //= <span class="id" title="var">z1</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>=&gt; <span class="id" title="var">H4</span>; <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hzy</span>; <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">H4</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_to_C1_id"><span class="id" title="lemma">connect_to_C1_id</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#9f2f3cc6a4234ba12ff5cdb492eb69eb"><span class="id" title="notation">-[]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">-[</span></a><span class="id" title="definition">predC1</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#e7a4aa4d980967b730054582ff365520"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_toW"><span class="id" title="lemma">connect_toW</span></a>.<br/>
<span class="id" title="tactic">case</span>/<span class="id" title="lemma">connectP</span> =&gt; <span class="id" title="var">p</span> /<span class="id" title="lemma">shortenP</span>[<span class="id" title="var">p'</span> <span class="id" title="var">Pxp'</span> <span class="id" title="var">Uxp'</span> <span class="id" title="var">Sxp'</span> <span class="id" title="var">Lyxp'</span>].<br/>
<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p'</span> =&gt; //=.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.extra.html#path_to"><span class="id" title="lemma">path_to</span></a> <span class="id" title="var">Pxp'</span>; <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">allP</span>=&gt; <span class="id" title="var">z</span> <span class="id" title="var">zIp'</span> /=.<br/>
<span class="id" title="var">have</span> /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">H</span> <span class="id" title="var">_</span>] := <span class="id" title="var">Uxp'</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">contraNneq</span> <span class="id" title="var">H</span> =&gt; &lt;-.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Canonical&nbsp;element&nbsp;in&nbsp;a&nbsp;list&nbsp;:&nbsp;find&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;l<br/>
&nbsp;&nbsp;&nbsp;that&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;x&nbsp;walking&nbsp;only&nbsp;that&nbsp;satisfies&nbsp;a&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="can_to"><span class="id" title="definition">can_to</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> := <span class="id" title="definition">nth</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> (<span class="id" title="definition">find</span> (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>) <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "C[ x ]_( a , l ) " := (<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "C[ x ]_( a ,  l )").<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eq_can_to"><span class="id" title="lemma">eq_can_to</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span> : <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035"><span class="id" title="notation">=1</span></a> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">aEb</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> /=.<br/>
<span class="id" title="var">congr</span> (<span class="id" title="definition">nth</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="tactic">apply</span>: <span class="id" title="lemma">eq_find</span> =&gt; <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#eq_diconnect_to"><span class="id" title="lemma">eq_diconnect_to</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="mem_can_to"><span class="id" title="lemma">mem_can_to</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> : <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">xIp1</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<span class="id" title="lemma">leqP</span> (<span class="id" title="definition">size</span> <span class="id" title="var">l</span>) (<span class="id" title="definition">find</span> (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>) <span class="id" title="var">x</span>) <span class="id" title="var">l</span>)) =&gt; <span class="id" title="var">H1</span>;<br/>
&nbsp;&nbsp;[<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_default</span> | <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_nth</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="can_to_cons"><span class="id" title="lemma">can_to_cons</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="notation">::</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">if</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">then</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssreflect.html#00a1a5b58aac8f1e3f1abff064a39f9d"><span class="id" title="notation">else</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a><a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> /=; <span class="id" title="tactic">case</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="var">Hr</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="can_to_cat"><span class="id" title="lemma">can_to_cat</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a> <span class="id" title="notation">++</span> <a class="idref" href="chip.connect.html#l2"><span class="id" title="variable">l2</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">xIl1</span>.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> <span class="id" title="lemma">find_cat</span>; <span class="id" title="tactic">case</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="definition">has</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_cat</span> <span class="id" title="lemma">has_find</span> =&gt; -&gt;.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">hasPn</span>/(<span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">xIl1</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.connect.html#diconnect0"><span class="id" title="lemma">diconnect0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="diconnect_can_to"><span class="id" title="lemma">diconnect_can_to</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> : <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a> <a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">xIl</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.connect.html#diconnect_sym"><span class="id" title="lemma">diconnect_sym</span></a>; <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">nth_find</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">hasP</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //; <span class="id" title="tactic">exact</span>: <a class="idref" href="chip.connect.html#diconnect0"><span class="id" title="lemma">diconnect0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;x&nbsp;occurs&nbsp;before&nbsp;y&nbsp;in&nbsp;l&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="before"><span class="id" title="definition">before</span></a> (<span class="id" title="var">l</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span>  := <span class="id" title="definition">index</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">&lt;=</span> <span class="id" title="definition">index</span> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x =[ l ]&lt; y" := (<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  =[ l ]&lt;  y").<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="before_filter_inv"><span class="id" title="lemma">before_filter_inv</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> (<span class="id" title="var">l1</span> := <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">i</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">|</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#i"><span class="id" title="variable">i</span></a><span class="id" title="notation">]</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">]&lt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">]&lt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> {}/<span class="id" title="var">l1</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a>; <span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span> =&gt; //= <span class="id" title="var">z</span> <span class="id" title="var">l</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">E</span> : (<span class="id" title="var">a</span> <span class="id" title="var">z</span>) =&gt; /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> ![<span class="id" title="var">_</span> <span class="id" title="notation">==</span> <span class="id" title="var">z</span>]<span class="id" title="lemma">eq_sym</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> =&gt; //= <span class="id" title="var">Hx</span>; <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">xIl</span> <span class="id" title="var">yIl</span>; <span class="id" title="tactic">move</span>: (<span class="id" title="var">xIl</span>) (<span class="id" title="var">yIl</span>).<br/>
<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">mem_filter</span>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> =&gt; [&lt;-|<span class="id" title="var">_</span> <span class="id" title="var">_</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> =&gt; [&lt;-|<span class="id" title="var">_</span> <span class="id" title="var">_</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="before_filter"><span class="id" title="lemma">before_filter</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">a</span> (<span class="id" title="var">l1</span> := <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">i</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">|</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#i"><span class="id" title="variable">i</span></a><span class="id" title="notation">]</span>) :<br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">]&lt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">]&lt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> {}/<span class="id" title="var">l1</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a>; <span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span> =&gt; //= <span class="id" title="var">z</span> <span class="id" title="var">l</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">E</span> : (<span class="id" title="var">a</span> <span class="id" title="var">z</span>) =&gt; /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <span class="id" title="lemma">eq_sym</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> =&gt; //= <span class="id" title="var">Hx</span>; <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">xIl</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span> =&gt; //.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> <span class="id" title="var">xIl</span> <span class="id" title="var">Hi</span> =&gt; [&lt;-| <span class="id" title="var">_</span>]; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span> <span class="id" title="var">E</span> | <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="leq_index_nth"><span class="id" title="lemma">leq_index_nth</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">l</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">i</span> : <span class="id" title="definition">index</span> (<span class="id" title="definition">nth</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="chip.connect.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a>  <span class="id" title="notation">&lt;=</span> <a class="idref" href="chip.connect.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span> <span class="id" title="var">i</span> =&gt; //= <span class="id" title="var">y</span> <span class="id" title="var">l</span> <span class="id" title="var">IH</span> [|<span class="id" title="var">i</span> /=]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="abbreviation">eqxx</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> =&gt; // <span class="id" title="var">_</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="index_find"><span class="id" title="lemma">index_find</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">l</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">a</span> :  <span class="id" title="definition">has</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">index</span> (<span class="id" title="definition">nth</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> (<span class="id" title="definition">find</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a>)) <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">find</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hal</span>.<br/>
<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">eqn_leq</span> <a class="idref" href="chip.connect.html#leq_index_nth"><span class="id" title="lemma">leq_index_nth</span></a>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="lemma">leqP</span> =&gt; // /(<span class="id" title="lemma">before_find</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_index</span> ?<span class="id" title="lemma">nth_find</span> // <span class="id" title="lemma">mem_nth</span> // -<span class="id" title="lemma">has_find</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="before_can_to"><span class="id" title="lemma">before_can_to</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#aa2f94447df3b885e832bdef64957fb0"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a> <a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">]&lt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">Hx</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.connect.html#diconnect_sym"><span class="id" title="lemma">diconnect_sym</span></a> =&gt; <span class="id" title="var">Hr</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">F</span> : <span class="id" title="definition">has</span> (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>) <span class="id" title="var">x</span>) <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">hasP</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">y</span> =&gt; //; <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.connect.html#diconnect_sym"><span class="id" title="lemma">diconnect_sym</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> <a class="idref" href="chip.connect.html#index_find"><span class="id" title="lemma">index_find</span></a> //.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="lemma">leqP</span> =&gt; // /(<span class="id" title="lemma">before_find</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_index</span> // <a class="idref" href="chip.connect.html#diconnect_sym"><span class="id" title="lemma">diconnect_sym</span></a> <span class="id" title="var">Hr</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="before_can_toW"><span class="id" title="lemma">before_can_toW</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a> <a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#51116b6d5065524b0ed0b0477006cbf9"><span class="id" title="notation">]&lt;</span></a> <a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#0c73851b6c131968789ec82f47f3a10a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">xIl</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hs1</span> : <span class="id" title="definition">has</span> (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>) <span class="id" title="var">x</span>) <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">hasP</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //; <span class="id" title="tactic">exact</span>: <a class="idref" href="chip.connect.html#diconnect0"><span class="id" title="lemma">diconnect0</span></a>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hs2</span> : <span class="id" title="definition">has</span> (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">b</span> <a class="idref" href="chip.connect.html#Fin.Relto.g"><span class="id" title="variable">g</span></a>) <span class="id" title="var">x</span>) <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">hasP</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //; <span class="id" title="tactic">exact</span>: <a class="idref" href="chip.connect.html#diconnect0"><span class="id" title="lemma">diconnect0</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> !<a class="idref" href="chip.connect.html#index_find"><span class="id" title="lemma">index_find</span></a> //.<br/>
<span class="id" title="tactic">apply</span>: <span class="id" title="lemma">sub_find</span> =&gt; <span class="id" title="var">z</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#diconnect_to_sub"><span class="id" title="lemma">diconnect_to_sub</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="chip.connect.html#Fin.Relto"><span class="id" title="section">Relto</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Fin.ConnectRelto"><span class="id" title="section">ConnectRelto</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x -[ s ]-&gt; y" := <br/>
&nbsp;&nbsp;(<span class="id" title="definition">connect</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel_of_simpl_rel"><span class="id" title="definition">rel_of_simpl_rel</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">s</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a>)) <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  -[ s ]-&gt;  y").<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x -[]-&gt; y" := <br/>
&nbsp;&nbsp;(<span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  -[]-&gt;  y") .<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x =[]= y" := (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  =[]=  y").<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x =[ a ]= y" := (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel_of_simpl_rel"><span class="id" title="definition">rel_of_simpl_rel</span></a> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a>)) <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  =[ a ]=  y").<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "C[ x ]_( a , l )" := (<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "C[ x ]_( a ,  l )").<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "x =[ l ]&lt; y" := (<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "x  =[ l ]&lt;  y").<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;list&nbsp;l&nbsp;is&nbsp;topogically&nbsp;sorted&nbsp;with&nbsp;respect&nbsp;to&nbsp;a&nbsp;if<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;elements&nbsp;of&nbsp;l&nbsp;respects&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;list&nbsp;is&nbsp;closed&nbsp;under&nbsp;connection&nbsp;with&nbsp;respect&nbsp;to&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;canonical&nbsp;elements&nbsp;are&nbsp;before&nbsp;their&nbsp;connected&nbsp;elements&nbsp;<br/>
*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="tsorted"><span class="id" title="definition">tsorted</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) (<span class="id" title="var">l</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>) := <br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">[/\</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">)</span></a> <a class="idref" href="chip.connect.html#4f06df50513d9dd0fbaa1e9b0935f388"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#4f06df50513d9dd0fbaa1e9b0935f388"><span class="id" title="notation">]&lt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#d7e433f5d2fe56f5b712860a9ff2a681"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> " TS[ a , l ]" := (<a class="idref" href="chip.connect.html#tsorted"><span class="id" title="definition">tsorted</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "TS[ a ,  l ]").<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "TS[ l ] " := (<a class="idref" href="chip.connect.html#tsorted"><span class="id" title="definition">tsorted</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#predT"><span class="id" title="definition">predT</span></a> <span class="id" title="var">l</span>) <br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 10, <span class="id" title="var">format</span> "TS[ l ]").<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tsortedE"><span class="id" title="lemma">tsortedE</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l</span> :<br/>
&nbsp;<a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">subset</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a>  <a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">)</span></a> <a class="idref" href="chip.connect.html#4f06df50513d9dd0fbaa1e9b0935f388"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#4f06df50513d9dd0fbaa1e9b0935f388"><span class="id" title="notation">]&lt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">lSa</span> <span class="id" title="var">HR</span>; <span class="id" title="tactic">split</span> =&gt; // <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xIl</span> <span class="id" title="var">xCy</span>; <span class="id" title="var">have</span> [] := <span class="id" title="var">HR</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">xIl</span> <span class="id" title="var">xCy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="eq_tsorted"><span class="id" title="lemma">eq_tsorted</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span> : <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#876aa133fb3472bffd492f74ff496035"><span class="id" title="notation">=1</span></a> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">aEb</span> [/= <span class="id" title="var">lSa</span> <span class="id" title="var">Ca</span> <span class="id" title="var">Ba</span>].<br/>
<span class="id" title="var">have</span> <span class="id" title="var">aE2b</span> : <a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">b</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span> /= -<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> /= <span class="id" title="var">aEb</span>.<br/>
<span class="id" title="tactic">split</span> =&gt; /= [|<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xIl</span> <span class="id" title="var">xCy</span>|<span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xIl</span> <span class="id" title="var">xCy</span>].<br/>
- <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">subset_trans</span> <span class="id" title="var">lSa</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">subsetP</span>=&gt; <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> -!<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#topredE"><span class="id" title="lemma">topredE</span></a> /= <span class="id" title="var">aEb</span>.<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">Ca</span> <span class="id" title="var">xIl</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">eq_connect</span> <span class="id" title="var">aE2b</span>).<br/>
<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="chip.connect.html#eq_can_to"><span class="id" title="lemma">eq_can_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">aEb</span>).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">Ba</span> <span class="id" title="var">xIl</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">eq_connect</span> <span class="id" title="var">aE2b</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tsorted_nil"><span class="id" title="lemma">tsorted_nil</span></a> <span class="id" title="var">a</span> : <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <span class="id" title="notation">[::]</span><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>=&gt; //; <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">subsetP</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Removing&nbsp;the&nbsp;equivalent&nbsp;element&nbsp;on&nbsp;top&nbsp;preserves&nbsp;the&nbsp;sorting&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="tsorted_inv"><span class="id" title="lemma">tsorted_inv</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">::</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">y</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">::</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a><span class="id" title="notation">]</span><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">xlSa</span> <span class="id" title="var">CR</span> <span class="id" title="var">BR</span>]; <span class="id" title="tactic">split</span> =&gt; [|<span class="id" title="var">y</span> <span class="id" title="var">z</span>|<span class="id" title="var">y</span> <span class="id" title="var">z</span>].<br/>
- <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="chip.connect.html#diconnect0"><span class="id" title="lemma">diconnect0</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/(<span class="id" title="lemma">subset_trans</span> <span class="id" title="var">_</span> <span class="id" title="var">xlSa</span>)/<span class="id" title="lemma">subsetP</span>=&gt; <span class="id" title="var">z</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orbC"><span class="id" title="lemma">orbC</span></a> <span class="id" title="lemma">mem_filter</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">_</span> -&gt;].<br/>
- <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">mem_filter</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">xNDy</span> <span class="id" title="var">yIxl</span>] <span class="id" title="var">yCz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">CR</span> <span class="id" title="var">yCz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#contra"><span class="id" title="lemma">contra</span></a> <span class="id" title="var">xNDy</span> =&gt; <span class="id" title="var">xDz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> : <a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">[</span></a><span class="id" title="var">y</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span> <span class="id" title="notation">::</span> <span class="id" title="var">l</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">)</span></a> <a class="idref" href="chip.connect.html#4f06df50513d9dd0fbaa1e9b0935f388"><span class="id" title="notation">=[</span></a><span class="id" title="var">x</span> <span class="id" title="notation">::</span> <span class="id" title="var">l</span><a class="idref" href="chip.connect.html#4f06df50513d9dd0fbaa1e9b0935f388"><span class="id" title="notation">]&lt;</span></a> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">BR</span> <span class="id" title="var">yIxl</span> (<span class="id" title="lemma">connect_trans</span> <span class="id" title="var">yCz</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>: <span class="id" title="var">xDz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <span class="id" title="lemma">index_head</span> /=; <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> =&gt; // -&gt; <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#diconnect_can_to"><span class="id" title="lemma">diconnect_can_to</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">mem_filter</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">xNDy</span> <span class="id" title="var">yIxl</span>] <span class="id" title="var">yCz</span>.<br/>
<span class="id" title="var">have</span> -&gt;: <a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">[</span></a><span class="id" title="var">y</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">,</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">i</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">x</span> <span class="id" title="notation">::</span> <span class="id" title="var">l</span> <span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <span class="id" title="var">x</span> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#i"><span class="id" title="variable">i</span></a><span class="id" title="notation">]</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">[</span></a><span class="id" title="var">y</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span> <span class="id" title="notation">::</span> <span class="id" title="var">l</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: (<span class="id" title="var">x</span> <span class="id" title="notation">::</span> <span class="id" title="var">l</span>) =&gt; //= <span class="id" title="var">t</span> <span class="id" title="var">l1</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">_</span> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><span class="id" title="var">_</span><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="var">Ext</span> /=; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> /=; <span class="id" title="tactic">case</span> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">_</span> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><span class="id" title="var">_</span><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>  /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> : (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">_</span> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><span class="id" title="var">_</span><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <span class="id" title="var">_</span>)) =&gt; <span class="id" title="var">Eyt</span> //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">xNDy</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#diconnect_trans"><span class="id" title="lemma">diconnect_trans</span></a> <span class="id" title="var">Ext</span> <span class="id" title="var">_</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.connect.html#diconnect_sym"><span class="id" title="lemma">diconnect_sym</span></a>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#before_filter"><span class="id" title="lemma">before_filter</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">BR</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span> <a class="idref" href="chip.connect.html#mem_can_to"><span class="id" title="lemma">mem_can_to</span></a> // ?<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andbT"><span class="id" title="lemma">andbT</span></a>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#contra"><span class="id" title="lemma">contra</span></a> <span class="id" title="var">xNDy</span> =&gt; <span class="id" title="var">xDc</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#diconnect_trans"><span class="id" title="lemma">diconnect_trans</span></a> <span class="id" title="var">xDc</span> (<a class="idref" href="chip.connect.html#diconnect_can_to"><span class="id" title="lemma">diconnect_can_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Computing&nbsp;the&nbsp;connected&nbsp;elements&nbsp;for&nbsp;the&nbsp;reversed&nbsp;graph&nbsp;gives<br/>
&nbsp;&nbsp;&nbsp;the&nbsp;equivalent&nbsp;class&nbsp;of&nbsp;the&nbsp;top&nbsp;element&nbsp;of&nbsp;a&nbsp;tologically&nbsp;sorted&nbsp;list&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="tsorted_diconnect"><span class="id" title="lemma">tsorted_diconnect</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">::</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">::</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">_</span> <span class="id" title="var">CR</span> <span class="id" title="var">BR</span>].<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>=&gt; [/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">Cxy</span> <span class="id" title="var">Cyx</span>]|/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">yIxl</span> <span class="id" title="var">Cyx</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">CR</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) // <span class="id" title="definition">inE</span> <span class="id" title="abbreviation">eqxx</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">F</span> := <a class="idref" href="chip.connect.html#diconnect_can_to"><span class="id" title="lemma">diconnect_can_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">yIxl</span>.<br/>
<span class="id" title="var">have</span> := <span class="id" title="var">BR</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">yIxl</span> <span class="id" title="var">Cyx</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> /= <span class="id" title="abbreviation">eqxx</span>; <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> =&gt; //-&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Computing&nbsp;topological&nbsp;sort&nbsp;by&nbsp;concatenation&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="tsorted_cat"><span class="id" title="lemma">tsorted_cat</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">predD</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">pred</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l2"><span class="id" title="variable">l2</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l2"><span class="id" title="variable">l2</span></a> <span class="id" title="notation">++</span> <a class="idref" href="chip.connect.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">set</span> <span class="id" title="var">b</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">predD</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">&amp;</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="tactic">move</span>=&gt; [<span class="id" title="var">l1Sa</span> <span class="id" title="var">Cl1</span> <span class="id" title="var">Bl1</span>] [<span class="id" title="var">l2Sb</span> <span class="id" title="var">Cl2</span>] <span class="id" title="var">Bl2</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#tsortedE"><span class="id" title="lemma">tsortedE</span></a> =&gt; [|<span class="id" title="var">x</span> <span class="id" title="var">y</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">subsetP</span> =&gt; <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_cat</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>[/(<span class="id" title="lemma">subsetP</span> <span class="id" title="var">l2Sb</span>)|/(<span class="id" title="lemma">subsetP</span> <span class="id" title="var">l1Sa</span>) //].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[].<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">xIl2</span> <span class="id" title="var">_</span> <span class="id" title="var">Hc</span>|<span class="id" title="var">xNIl2</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">l2</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_cat</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negPf"><span class="id" title="lemma">negPf</span></a> <span class="id" title="var">xNIl2</span>) /= =&gt; <span class="id" title="var">xIl1</span> <span class="id" title="var">Cxy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">yIl1</span> := <span class="id" title="var">Cl1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">xIl1</span> <span class="id" title="var">Cxy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xBy</span> := <span class="id" title="var">Bl1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">xIl1</span> <span class="id" title="var">Cxy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_cat</span> <span class="id" title="var">yIl1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> [<span class="id" title="definition">index</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span>]<span class="id" title="lemma">index_cat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">yIl2</span>|<span class="id" title="var">yNil2</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">l2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span>/<span class="id" title="lemma">subsetP</span>/(<span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">yIl2</span>)/= := <span class="id" title="var">l2Sb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> /= <span class="id" title="var">yIl1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">index_cat</span>; <span class="id" title="var">have</span> [<span class="id" title="var">rIl2</span>| <span class="id" title="var">rNIl2</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">l2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">leq_trans</span> (<span class="id" title="lemma">index_size</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="lemma">leq_addr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">leq_add2l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">rNIl2</span>; <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a> <span class="id" title="lemma">find_cat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> [<span class="id" title="var">HH</span>|<span class="id" title="var">HH</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="definition">has</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_cat</span> -<span class="id" title="lemma">has_find</span> <span class="id" title="var">HH</span> <span class="id" title="lemma">mem_nth</span> // -<span class="id" title="lemma">has_find</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">nth_cat</span> <span class="id" title="lemma">ltnNge</span> <span class="id" title="lemma">leq_addr</span> /= =&gt; <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">addnC</span> <span class="id" title="lemma">addnK</span>.<br/>
<span class="id" title="var">have</span> [/<span class="id" title="lemma">forallP</span> <span class="id" title="var">F</span>|] :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> <span class="id" title="notation">[</span><span class="id" title="notation">forall</span> <span class="id" title="var">z</span><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">[&amp;&amp;</span></a> <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <span class="id" title="notation">!=</span> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#5a7d806905be2a0d04047156433535f1"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xCy</span> : <span class="id" title="var">x</span> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">b</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> /<span class="id" title="lemma">eq_connect</span>-&gt; : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">predD</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">pred</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">in</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#f096036bbf59880580e05ce6b526a3b6"><span class="id" title="notation">]</span></a> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#790b887fcb3f1d578b2c7a5460f7aeb5"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#790b887fcb3f1d578b2c7a5460f7aeb5"><span class="id" title="notation">predC</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">pred</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">in</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#7b6257ffc80683f59381cd58d26a8458"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#790b887fcb3f1d578b2c7a5460f7aeb5"><span class="id" title="notation">]</span></a>  (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x1</span> <span class="id" title="var">y1</span>; <span class="id" title="tactic">rewrite</span> /= !<span class="id" title="definition">inE</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_to_forced"><span class="id" title="lemma">connect_to_forced</span></a> =&gt; // <span class="id" title="var">z</span> <span class="id" title="var">zDx</span> <span class="id" title="var">xCz</span> <span class="id" title="var">zCy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#implyP"><span class="id" title="lemma">implyP</span></a>-&gt;// := <span class="id" title="var">F</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">zDx</span> <span class="id" title="var">xCz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">yIl2</span> := <span class="id" title="var">Cl2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">xIl2</span> <span class="id" title="var">xCy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">xBy</span> := <span class="id" title="var">Bl2</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">xIl2</span> <span class="id" title="var">xCy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_cat</span> <span class="id" title="var">yIl2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> [<span class="id" title="definition">index</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span>]<span class="id" title="lemma">index_cat</span> <span class="id" title="var">yIl2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="lemma">leq_trans</span> <span class="id" title="var">xBy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.connect.html#can_to_cat"><span class="id" title="lemma">can_to_cat</span></a> // <span class="id" title="lemma">index_cat</span> <a class="idref" href="chip.connect.html#mem_can_to"><span class="id" title="lemma">mem_can_to</span></a> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#before_can_toW"><span class="id" title="lemma">before_can_toW</span></a>=&gt; //; <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">subsetP</span>=&gt; <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[].<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">negb_forall</span> =&gt; /<span class="id" title="lemma">existsP</span>[<span class="id" title="var">z</span>].<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negb_imply"><span class="id" title="lemma">negb_imply</span></a> -!<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negbK"><span class="id" title="lemma">negbK</span></a> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a>[<span class="id" title="var">zDx</span> <span class="id" title="var">xCz</span> <span class="id" title="var">zCy</span> <span class="id" title="var">zIl1</span>].<br/>
<span class="id" title="var">have</span> <span class="id" title="var">yIl1</span> := <span class="id" title="var">Cl1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">zIl1</span> <span class="id" title="var">zCy</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">zBy</span> := <span class="id" title="var">Bl1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">zIl1</span> <span class="id" title="var">zCy</span>.<br/>
<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_cat</span> <span class="id" title="var">yIl1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> [<span class="id" title="definition">index</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span>]<span class="id" title="lemma">index_cat</span>.<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">yIl2</span>|<span class="id" title="var">_</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span>/<span class="id" title="lemma">subsetP</span>/(<span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">yIl2</span>)/= := <span class="id" title="var">l2Sb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> <span class="id" title="var">yIl1</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">index_cat</span>.<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">_</span>|/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>[]] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">leq_trans</span> (<span class="id" title="lemma">index_size</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) (<span class="id" title="lemma">leq_addr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#can_to"><span class="id" title="definition">can_to</span></a>; <span class="id" title="tactic">elim</span>: (<span class="id" title="var">l2</span>) <span class="id" title="var">xIl2</span> =&gt; //= <span class="id" title="var">a1</span> <span class="id" title="var">l</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>[/<span class="id" title="lemma">eqP</span>-&gt;|/<span class="id" title="var">IH</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.connect.html#diconnect0"><span class="id" title="lemma">diconnect0</span></a> <span class="id" title="definition">inE</span> <span class="id" title="abbreviation">eqxx</span>.<br/>
<span class="id" title="tactic">case</span>: (<span class="id" title="var">_</span> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><span class="id" title="var">_</span><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <span class="id" title="var">_</span>) =&gt; //=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <span class="id" title="abbreviation">eqxx</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orbC"><span class="id" title="lemma">orbC</span></a> =&gt; -&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Elements&nbsp;that&nbsp;are&nbsp;notin&nbsp;l&nbsp;do&nbsp;not&nbsp;matter&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="tsorted_setU1_l"><span class="id" title="lemma">tsorted_setU1_l</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> (<span class="id" title="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">predD1</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">]</span>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">xNIl</span> [<span class="id" title="var">lSa</span> <span class="id" title="var">Cl</span> <span class="id" title="var">Bl</span>]; <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#tsortedE"><span class="id" title="lemma">tsortedE</span></a> =&gt; /= [|<span class="id" title="var">t</span> <span class="id" title="var">z</span> <span class="id" title="var">tIl</span> <span class="id" title="var">tCz</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">subsetP</span>=&gt; <span class="id" title="var">i</span>; <span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> =&gt; //= [-&gt; /(<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> <span class="id" title="var">xNIl</span>)//|<span class="id" title="var">_</span> /(<span class="id" title="lemma">subsetP</span> <span class="id" title="var">lSa</span>)].<br/>
<span class="id" title="var">have</span> <span class="id" title="var">tC'z</span> : <span class="id" title="var">t</span> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_to_sub"><span class="id" title="lemma">connect_to_sub</span></a> <span class="id" title="var">tCz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">subsetP</span> =&gt; <span class="id" title="var">i</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[].<br/>
<span class="id" title="var">have</span> <span class="id" title="var">zIl</span> := <span class="id" title="var">Cl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">tIl</span> <span class="id" title="var">tC'z</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">tBz</span> := <span class="id" title="var">Bl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">tIl</span> <span class="id" title="var">tC'z</span>.<br/>
<span class="id" title="tactic">split</span> =&gt; //; <span class="id" title="var">suff</span>-&gt;: <a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">[</span></a><span class="id" title="var">t</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">C</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">[</span></a><span class="id" title="var">t</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">]</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">_</span></a><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="chip.connect.html#7ea87fe125d677002358e80c7bcaec0c"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">by</span> [].<br/>
<span class="id" title="var">congr</span> <span class="id" title="definition">nth</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">eq_in_find</span> =&gt; <span class="id" title="var">y</span> /= <span class="id" title="var">yIl</span>.<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">xIa</span>|<span class="id" title="var">xNIa</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">a</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#eq_diconnect_to"><span class="id" title="lemma">eq_diconnect_to</span></a> =&gt; <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">b</span> /=; <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span>=&gt; // -&gt;; <span class="id" title="tactic">rewrite</span> [<span class="id" title="var">a</span> <span class="id" title="var">_</span>](<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negPf"><span class="id" title="lemma">negPf</span></a> <span class="id" title="var">xNIa</span>).<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a> =&gt; /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.connect.html#diconnect_to_sub"><span class="id" title="lemma">diconnect_to_sub</span></a>/<span class="id" title="lemma">subsetP</span>=&gt; <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[].<br/>
<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>=&gt; <span class="id" title="var">tCy</span> <span class="id" title="var">Cyt</span>.<br/>
<span class="id" title="var">have</span> /<a class="idref" href="chip.connect.html#eq_diconnect"><span class="id" title="lemma">eq_diconnect</span></a>-&gt; : <a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">b</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> (<span class="id" title="definition">predC1</span> <span class="id" title="var">x</span>) (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x1</span> <span class="id" title="var">y1</span>; <span class="id" title="tactic">rewrite</span> /<span class="id" title="var">b</span> /= !<span class="id" title="definition">inE</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_to_C1l"><span class="id" title="lemma">connect_to_C1l</span></a> =&gt; //; <br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#contra"><span class="id" title="lemma">contra</span></a> <span class="id" title="var">xNIl</span>=&gt; /<span class="id" title="var">Cl</span>-&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Computing&nbsp;topologically&nbsp;sorted&nbsp;list&nbsp;by&nbsp;adding&nbsp;a&nbsp;top&nbsp;element&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a name="tsorted_cons_r"><span class="id" title="lemma">tsorted_cons_r</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> (<span class="id" title="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">predD1</span> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">]</span>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">::</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">AxC</span> <span class="id" title="var">AyIl</span> <span class="id" title="var">Ax</span> [/= <span class="id" title="var">lSb</span> <span class="id" title="var">Cl</span> <span class="id" title="var">Bl</span>]; <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#tsortedE"><span class="id" title="lemma">tsortedE</span></a> =&gt; [|<span class="id" title="var">y</span> <span class="id" title="var">z</span>] /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">subsetP</span>=&gt; <span class="id" title="var">y</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>[/<span class="id" title="lemma">eqP</span>-&gt;//|/(<span class="id" title="lemma">subsetP</span> <span class="id" title="var">lSb</span>)].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>=&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[].<br/>
<span class="id" title="var">have</span> <span class="id" title="var">F</span> <span class="id" title="var">t</span> : <a class="idref" href="chip.connect.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="notation">!=</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">x</span> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">b</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.connect.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">tDx</span> /<span class="id" title="lemma">connectP</span>[[<span class="id" title="var">_</span> /<span class="id" title="lemma">eqP</span>|<span class="id" title="var">v</span> <span class="id" title="var">p</span>]] /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negPf"><span class="id" title="lemma">negPf</span></a> <span class="id" title="var">tDx</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -!<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a> /= =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#and4P"><span class="id" title="lemma">and4P</span></a>[<span class="id" title="var">vDx</span> <span class="id" title="var">vIa</span> <span class="id" title="var">xRv</span> <span class="id" title="var">Pbrvp</span> <span class="id" title="var">tLvp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span>/<span class="id" title="var">Cl</span>-&gt;// : <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">AyIl</span> =&gt; //; <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hr</span> : <a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">b</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">(</span></a><a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> (<span class="id" title="definition">predC1</span> <span class="id" title="var">x</span>) (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x1</span> <span class="id" title="var">y1</span>; <span class="id" title="tactic">rewrite</span> /= !<span class="id" title="definition">inE</span> !<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andbA"><span class="id" title="lemma">andbA</span></a>.<br/>
<span class="id" title="var">have</span> [/<span class="id" title="lemma">eqP</span>-&gt; /= <span class="id" title="var">_</span> <span class="id" title="var">xCz</span>|<span class="id" title="var">yDx</span> /= <span class="id" title="var">yIl</span> <span class="id" title="var">yCz</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">y</span> <span class="id" title="notation">==</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> /= <a class="idref" href="chip.connect.html#can_to_cons"><span class="id" title="lemma">can_to_cons</span></a> <a class="idref" href="chip.connect.html#diconnect0"><span class="id" title="lemma">diconnect0</span></a> <span class="id" title="abbreviation">eqxx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> [/<span class="id" title="lemma">eqP</span>&lt;-|<span class="id" title="var">zDx</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">z</span> <span class="id" title="notation">==</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> !<span class="id" title="definition">inE</span> <span class="id" title="abbreviation">eqxx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> (<span class="id" title="var">F</span> <span class="id" title="var">z</span>) ?<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a> // 1?<span class="id" title="lemma">eq_sym</span> // (<span class="id" title="lemma">eq_connect</span> <span class="id" title="var">Hr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.connect.html#connect_to_C1_id"><span class="id" title="lemma">connect_to_C1_id</span></a>.<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">yCz'</span>|<span class="id" title="var">yNCz'</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">y</span> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">b</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">zIxs</span> := <span class="id" title="var">Cl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">yIl</span> <span class="id" title="var">yCz'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">yBz</span> := <span class="id" title="var">Bl</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">yIl</span> <span class="id" title="var">yCz'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <span class="id" title="var">zIxs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orbT"><span class="id" title="lemma">orbT</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> [/<span class="id" title="lemma">eqP</span> <span class="id" title="var">xEz</span>|<span class="id" title="var">xDz</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">x</span> <span class="id" title="notation">==</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.connect.html#can_to_cons"><span class="id" title="lemma">can_to_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span>-&gt;: <span class="id" title="var">y</span> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <span class="id" title="var">x</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> /= <span class="id" title="abbreviation">eqxx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> {1}<span class="id" title="var">xEz</span> <span class="id" title="var">yCz</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">AxC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.connect.html#can_to_cons"><span class="id" title="lemma">can_to_cons</span></a>; <span class="id" title="tactic">case</span>: (<span class="id" title="var">_</span> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><span class="id" title="var">_</span><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <span class="id" title="var">_</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> /= <span class="id" title="abbreviation">eqxx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> /= (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negPf"><span class="id" title="lemma">negPf</span></a> <span class="id" title="var">xDz</span>); <span class="id" title="tactic">case</span>: <span class="id" title="lemma">eqP</span> =&gt; //= <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ltnS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="lemma">leq_trans</span> <span class="id" title="var">yBz</span> =&gt; /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#before_can_toW"><span class="id" title="lemma">before_can_toW</span></a> =&gt; //; <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">subsetP</span>=&gt; <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[].<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">yCx</span>|<span class="id" title="var">yNCx</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">y</span> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">yNCz'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">eq_connect</span> <span class="id" title="var">Hr</span>); <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_to_C1l"><span class="id" title="lemma">connect_to_C1l</span></a>.<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">xCz</span>| <span class="id" title="var">xNCz</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">x</span> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <span class="id" title="var">z</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">yNCz'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">eq_connect</span> <span class="id" title="var">Hr</span>); <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_to_C1r"><span class="id" title="lemma">connect_to_C1r</span></a>.<br/>
<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> [//|<span class="id" title="var">zDx</span>/=] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">z</span> <span class="id" title="notation">==</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">F</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">eq_connect</span> <span class="id" title="var">Hr</span>) -<a class="idref" href="chip.connect.html#connect_to_C1_id"><span class="id" title="lemma">connect_to_C1_id</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <a class="idref" href="chip.connect.html#can_to_cons"><span class="id" title="lemma">can_to_cons</span></a>.<br/>
<span class="id" title="var">suff</span>-&gt;: <span class="id" title="var">y</span> <a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">=[</span></a><span class="id" title="var">a</span><a class="idref" href="chip.connect.html#ee96ff83bd701436f4bd4baba6ed6683"><span class="id" title="notation">]=</span></a> <span class="id" title="var">x</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> /= <span class="id" title="abbreviation">eqxx</span>.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> <span class="id" title="var">yCx</span> /=.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">AxC</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_to_rev"><span class="id" title="lemma">connect_to_rev</span></a> <span class="id" title="var">l</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">z</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">::</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">TS</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">::</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="chip.connect.html#c2c5a7470045e902fc358da72b71e1a1"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">::</span> <a class="idref" href="chip.connect.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><a class="idref" href="chip.connect.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="definition">connect</span> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <a class="idref" href="chip.connect.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">]</span></a>) <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span>=&gt; /<span class="id" title="lemma">subsetP</span> <span class="id" title="var">HS</span> <span class="id" title="var">HD</span> <span class="id" title="var">HW</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">xIxl</span> : <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">x</span> <span class="id" title="notation">::</span> <span class="id" title="var">l</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <span class="id" title="abbreviation">eqxx</span>.<br/>
<span class="id" title="tactic">case</span>: (<span class="id" title="var">x</span> <span class="id" title="notation">=</span><span class="id" title="notation">P</span> <span class="id" title="var">y</span>) =&gt; [&lt;-|/<span class="id" title="lemma">eqP</span> <span class="id" title="var">xDy</span>]; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">xIxl</span> !<span class="id" title="lemma">connect0</span>.<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">yIxl</span>/=|<span class="id" title="var">yNIxl</span>/=] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#sym_equal"><span class="id" title="abbreviation">sym_equal</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#contra"><span class="id" title="lemma">contra</span></a> <span class="id" title="var">yNIxl</span> =&gt; /<span class="id" title="lemma">connectP</span>[[/= <span class="id" title="var">_</span> -&gt;//|<span class="id" title="var">z</span> <span class="id" title="var">p</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.extra.html#path_to"><span class="id" title="lemma">path_to</span></a> /= =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#and3P"><span class="id" title="lemma">and3P</span></a>[<span class="id" title="var">_</span> <span class="id" title="var">zB</span> /<span class="id" title="lemma">allP</span> <span class="id" title="var">ApB</span> -&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> := <span class="id" title="lemma">mem_last</span> <span class="id" title="var">z</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">HD</span> <span class="id" title="definition">inE</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>[/<span class="id" title="lemma">eqP</span>-&gt;//|/<span class="id" title="var">ApB</span>].<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">yCx</span>|<span class="id" title="var">yNCx</span>] := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">y</span> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">_</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#sym_equal"><span class="id" title="abbreviation">sym_equal</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">apply</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#contra"><span class="id" title="lemma">contra</span></a> <span class="id" title="var">yNCx</span> =&gt; <span class="id" title="var">xCy</span>.<br/>
<span class="id" title="var">have</span> /<span class="id" title="lemma">connectP</span>[<span class="id" title="var">p</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hy</span>] := <a class="idref" href="chip.connect.html#connect_to_from"><span class="id" title="lemma">connect_to_from</span></a> <span class="id" title="var">xCy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hp</span>; <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="chip.extra.html#path_from"><span class="id" title="lemma">path_from</span></a> <a class="idref" href="chip.extra.html#path_to"><span class="id" title="lemma">path_to</span></a> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[-&gt;].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">p</span> <span class="id" title="var">Hy</span> =&gt; // <span class="id" title="var">z</span> <span class="id" title="var">p1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {3}<span class="id" title="lemma">lastI</span> /= <span class="id" title="lemma">all_rcons</span> =&gt; &lt;- /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">_</span> /<span class="id" title="lemma">allP</span> <span class="id" title="var">Ap</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="var">a</span> <span class="id" title="var">x</span>](<span class="id" title="lemma">subsetP</span> <span class="id" title="var">HS</span>) ?<span class="id" title="var">HD</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">allP</span>=&gt; <span class="id" title="var">i</span> /<span class="id" title="var">Ap</span> <span class="id" title="var">iB</span>; <span class="id" title="tactic">rewrite</span> [<span class="id" title="var">a</span> <span class="id" title="var">_</span>](<span class="id" title="lemma">subsetP</span> <span class="id" title="var">HS</span>).<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#sym_equal"><span class="id" title="abbreviation">sym_equal</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#idP"><span class="id" title="lemma">idP</span></a>.<br/>
<span class="id" title="var">have</span> /<a class="idref" href="chip.connect.html#connect_to_from"><span class="id" title="lemma">connect_to_from</span></a>/<span class="id" title="lemma">connectP</span>[<span class="id" title="var">p</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hy</span>] : <span class="id" title="var">y</span> <a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">-[</span></a><span class="id" title="var">b</span><a class="idref" href="chip.connect.html#32893b8bb873c179d8793964d9e03531"><span class="id" title="notation">]-&gt;</span></a> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="lemma">eq_connect</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssreflect.html#aed478b27f23b4f753c27c8ac393febc"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">(</span></a><a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">b</span> (<a class="idref" href="chip.extra.html#relto"><span class="id" title="definition">relto</span></a> <span class="id" title="var">a</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto.g"><span class="id" title="variable">g</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">)</span></a>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>=&gt; <span class="id" title="var">x1</span> <span class="id" title="var">y1</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#boolP"><span class="id" title="lemma">boolP</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">b</span>)) =&gt; // /(<span class="id" title="lemma">subsetP</span> <span class="id" title="var">HS</span>)-&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_to_forced"><span class="id" title="lemma">connect_to_forced</span></a> =&gt; // <span class="id" title="var">z</span> <span class="id" title="var">zDy</span> <span class="id" title="var">yCz</span> <span class="id" title="var">zCx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> [<span class="id" title="var">b</span> <span class="id" title="var">_</span>]<span class="id" title="var">HD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="var">have</span> [<span class="id" title="var">_</span> /(<span class="id" title="var">_</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">yIxl</span> <span class="id" title="var">yCz</span>)] := <span class="id" title="var">HW</span>.<br/>
<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span> =&gt; //.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hp</span>; <span class="id" title="tactic">rewrite</span> /= <a class="idref" href="chip.extra.html#path_from"><span class="id" title="lemma">path_from</span></a> <a class="idref" href="chip.extra.html#path_to"><span class="id" title="lemma">path_to</span></a> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[-&gt;].<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">p</span> <span class="id" title="var">Hy</span> =&gt; // <span class="id" title="var">z</span> <span class="id" title="var">p1</span>.<br/>
<span class="id" title="tactic">rewrite</span> {3}<span class="id" title="lemma">lastI</span> /= /= <span class="id" title="lemma">all_rcons</span> =&gt; &lt;- /= /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>[<span class="id" title="var">_</span> <span class="id" title="var">Ap</span>].<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span>  [<span class="id" title="var">b</span> <span class="id" title="var">_</span>]<span class="id" title="var">HD</span> <span class="id" title="var">yIxl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="chip.connect.html#Fin.ConnectRelto"><span class="id" title="section">ConnectRelto</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Fin.Sub"><span class="id" title="section">Sub</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="Fin.Sub.P"><span class="id" title="variable">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="I"><span class="id" title="abbreviation">I</span></a> := (<span class="id" title="definition">sig_finType</span> <a class="idref" href="chip.connect.html#Fin.Sub.P"><span class="id" title="variable">P</span></a>).<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="Fin.Sub.g"><span class="id" title="variable">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="chip.connect.html#Fin.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="gsub"><span class="id" title="abbreviation">gsub</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">:</span></a> <a class="idref" href="chip.connect.html#I"><span class="id" title="abbreviation">I</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.connect.html#Fin.Sub.g"><span class="id" title="variable">g</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a>) (<span class="id" title="projection">val</span> <a class="idref" href="chip.connect.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gsub_path"><span class="id" title="lemma">gsub_path</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span> <span class="id" title="var">v</span>,<br/>
&nbsp;<span class="id" title="definition">path</span> <a class="idref" href="chip.connect.html#gsub"><span class="id" title="abbreviation">gsub</span></a> <a class="idref" href="chip.connect.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="chip.connect.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<span class="id" title="definition">path</span> <a class="idref" href="chip.connect.html#Fin.Sub.g"><span class="id" title="variable">g</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.connect.html#v"><span class="id" title="variable">v</span></a>) <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="projection">val</span> <a class="idref" href="chip.connect.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.connect.html#p"><span class="id" title="variable">p</span></a><span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span> =&gt; //.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v0</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">v</span>.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hg</span> <span class="id" title="var">Hp</span>].<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
<span class="id" title="tactic">split</span> =&gt; //.<br/>
<span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gsub_connect"><span class="id" title="lemma">gsub_connect</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">v</span> <span class="id" title="var">v'</span> : <a class="idref" href="chip.connect.html#I"><span class="id" title="abbreviation">I</span></a>),<br/>
&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#gsub"><span class="id" title="abbreviation">gsub</span></a> <a class="idref" href="chip.connect.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="chip.connect.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.connect.html#Fin.Sub.g"><span class="id" title="variable">g</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.connect.html#v"><span class="id" title="variable">v</span></a>) (<span class="id" title="projection">val</span> <a class="idref" href="chip.connect.html#v'"><span class="id" title="variable">v'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">v'</span>.<br/>
<span class="id" title="tactic">move</span>/<span class="id" title="lemma">connectP</span> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">Hl</span>.<br/>
<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>.<br/>
<span class="id" title="tactic">exists</span> (<span class="id" title="definition">map</span> <span class="id" title="projection">val</span> <span class="id" title="var">p</span>); <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#gsub_path"><span class="id" title="lemma">gsub_path</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl</span> <span class="id" title="lemma">last_map</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="chip.connect.html#Fin.Sub"><span class="id" title="section">Sub</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="chip.connect.html#Fin"><span class="id" title="section">Fin</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
