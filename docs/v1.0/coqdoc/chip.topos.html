<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">chip.topos</h1>

<div class="code">
<span class="id" title="var">From</span> <span class="id" title="var">mathcomp</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">all_ssreflect</span>.<br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">chip</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="chip.extra.html#"><span class="id" title="library">extra</span></a> <a class="idref" href="chip.connect.html#"><span class="id" title="library">connect</span></a> <a class="idref" href="chip.kosaraju.html#"><span class="id" title="library">kosaraju</span></a> <a class="idref" href="chip.acyclic.html#"><span class="id" title="library">acyclic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="ToposAcyclic"><span class="id" title="section">ToposAcyclic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="ToposAcyclic.V"><span class="id" title="variable">V</span></a> : <span class="id" title="abbreviation">finType</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="ToposAcyclic.g"><span class="id" title="variable">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="chip.topos.html#ToposAcyclic.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="ToposAcyclic.ts"><span class="id" title="variable">ts</span></a> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.topos.html#ToposAcyclic.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="ToposAcyclic.ts_tsorted"><span class="id" title="variable">ts_tsorted</span></a> : <a class="idref" href="chip.connect.html#tsorted"><span class="id" title="definition">tsorted</span></a> <a class="idref" href="chip.topos.html#ToposAcyclic.g"><span class="id" title="variable">g</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred_of_simpl"><span class="id" title="definition">pred_of_simpl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#predT"><span class="id" title="definition">predT</span></a>) <a class="idref" href="chip.topos.html#ToposAcyclic.ts"><span class="id" title="variable">ts</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="ToposAcyclic.ts_all"><span class="id" title="variable">ts_all</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.topos.html#ToposAcyclic.ts"><span class="id" title="variable">ts</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="ToposAcyclic.g_acyclic"><span class="id" title="variable">g_acyclic</span></a> : <a class="idref" href="chip.acyclic.html#acyclic"><span class="id" title="definition">acyclic</span></a> <a class="idref" href="chip.topos.html#ToposAcyclic.g"><span class="id" title="variable">g</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_nth"><span class="id" title="lemma">ts_nth</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.topos.html#ToposAcyclic.V"><span class="id" title="variable">V</span></a>,<br/>
&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.topos.html#ToposAcyclic.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.topos.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="chip.topos.html#ToposAcyclic.ts"><span class="id" title="variable">ts</span></a><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">nth</span> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.topos.html#ToposAcyclic.ts"><span class="id" title="variable">ts</span></a> (<span class="id" title="definition">find</span> (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> <a class="idref" href="chip.topos.html#ToposAcyclic.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="chip.topos.html#ToposAcyclic.ts"><span class="id" title="variable">ts</span></a>)) <a class="idref" href="chip.topos.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">move</span>: (<a class="idref" href="chip.topos.html#ToposAcyclic.ts_all"><span class="id" title="variable">ts_all</span></a> <span class="id" title="var">x</span>).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="chip.topos.html#ToposAcyclic.ts_tsorted"><span class="id" title="variable">ts_tsorted</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="acyclic_find_in_diconnect"><span class="id" title="lemma">acyclic_find_in_diconnect</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span>, <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.topos.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">nth</span> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.topos.html#s"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">find</span> (<a class="idref" href="chip.connect.html#diconnect"><span class="id" title="definition">diconnect</span></a> <a class="idref" href="chip.topos.html#ToposAcyclic.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="chip.topos.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span> =&gt; //=.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">y</span> <span class="id" title="var">s</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
<span class="id" title="tactic">case</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span> =&gt;-&gt;; <span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt; //=; <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">case</span>; <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#diconnect0"><span class="id" title="lemma">diconnect0</span></a>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">Hx</span>: (<span class="id" title="var">x</span> <span class="id" title="notation">==</span> <span class="id" title="var">y</span>).<br/>
- <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hx</span> =&gt;-&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>; <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.connect.html#diconnect0"><span class="id" title="lemma">diconnect0</span></a>.<br/>
- <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hx</span> =&gt; <span class="id" title="var">Hx</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hd</span>; <span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.acyclic.html#acyclic_diconnect"><span class="id" title="lemma">acyclic_diconnect</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_connect_before"><span class="id" title="lemma">ts_connect_before</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.topos.html#ToposAcyclic.V"><span class="id" title="variable">V</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.topos.html#ToposAcyclic.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.topos.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <a class="idref" href="chip.topos.html#ToposAcyclic.ts"><span class="id" title="variable">ts</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.topos.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="tactic">move</span>: (<a class="idref" href="chip.topos.html#ts_nth"><span class="id" title="lemma">ts_nth</span></a> <span class="id" title="var">Hc</span>).<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.topos.html#acyclic_find_in_diconnect"><span class="id" title="lemma">acyclic_find_in_diconnect</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="chip.topos.html#ToposAcyclic"><span class="id" title="section">ToposAcyclic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="ToposTseq"><span class="id" title="section">ToposTseq</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="ToposTseq.V"><span class="id" title="variable">V</span></a> : <span class="id" title="abbreviation">finType</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="ToposTseq.successors"><span class="id" title="variable">successors</span></a> : <a class="idref" href="chip.topos.html#ToposTseq.V"><span class="id" title="variable">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.topos.html#ToposTseq.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="ToposTseq.g_acyclic"><span class="id" title="variable">g_acyclic</span></a> : <a class="idref" href="chip.acyclic.html#acyclic"><span class="id" title="definition">acyclic</span></a> (<span class="id" title="definition">grel</span> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tseq_sorted"><span class="id" title="lemma">tseq_sorted</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#tsorted"><span class="id" title="definition">tsorted</span></a> (<span class="id" title="definition">grel</span> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred_of_simpl"><span class="id" title="definition">pred_of_simpl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#predT"><span class="id" title="definition">predT</span></a>) (<a class="idref" href="chip.kosaraju.html#tseq"><span class="id" title="definition">tseq</span></a> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="chip.kosaraju.html#tseq_correct'"><span class="id" title="lemma">tseq_correct'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tseq_all"><span class="id" title="lemma">tseq_all</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> : <a class="idref" href="chip.topos.html#ToposTseq.V"><span class="id" title="variable">V</span></a>, <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.kosaraju.html#tseq"><span class="id" title="definition">tseq</span></a> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="chip.kosaraju.html#tseq_correct'"><span class="id" title="lemma">tseq_correct'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pdfs_uniq"><span class="id" title="lemma">pdfs_uniq</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="chip.topos.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="chip.topos.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">~:</span> <a class="idref" href="chip.topos.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#675082cc4d4538da052b547bdc6ea4c9"><span class="id" title="notation">(</span></a><a class="idref" href="chip.kosaraju.html#pdfs"><span class="id" title="definition">pdfs</span></a> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="chip.topos.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="chip.topos.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#675082cc4d4538da052b547bdc6ea4c9"><span class="id" title="notation">).2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">s</span> <span class="id" title="var">l</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hu</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hus</span>: <span class="id" title="definition">uniq</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">~:</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a> <span class="id" title="tactic">by</span> [].<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hpc</span> := <a class="idref" href="chip.kosaraju.html#pdfs_correct'"><span class="id" title="lemma">pdfs_correct'</span></a> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">x</span> <span class="id" title="var">Hus</span>.<br/>
<span class="id" title="tactic">rewrite</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hpc</span>.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hpc</span>.<br/>
<span class="id" title="tactic">set</span> <span class="id" title="var">f</span> := <a class="idref" href="chip.kosaraju.html#pdfs"><span class="id" title="definition">pdfs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">f</span> =&gt; <span class="id" title="var">s'</span> <span class="id" title="var">l'</span>.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt; //=.<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hx</span>; <span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">Hs'</span>; <span class="id" title="tactic">move</span> =&gt;-&gt;.<br/>
- <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hx</span> [[<span class="id" title="var">Hs'</span> <span class="id" title="var">Hu'</span>] <span class="id" title="var">He</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="pdfs_subset"><span class="id" title="lemma">pdfs_subset</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">l</span> <span class="id" title="var">s'</span> <span class="id" title="var">l'</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="chip.topos.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="chip.topos.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">~:</span> <a class="idref" href="chip.topos.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.kosaraju.html#pdfs"><span class="id" title="definition">pdfs</span></a> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="chip.topos.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="chip.topos.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="chip.topos.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.topos.html#l'"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="chip.topos.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">~:</span> <a class="idref" href="chip.topos.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">s</span> <span class="id" title="var">l</span> <span class="id" title="var">s'</span> <span class="id" title="var">l'</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hu</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hus</span>: <span class="id" title="definition">uniq</span> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">~:</span> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a> <span class="id" title="tactic">by</span> [].<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hpc</span> := <a class="idref" href="chip.kosaraju.html#pdfs_correct'"><span class="id" title="lemma">pdfs_correct'</span></a> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">x</span> <span class="id" title="var">Hus</span>.<br/>
<span class="id" title="tactic">rewrite</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hpc</span>.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hpc</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a> =&gt; <span class="id" title="var">Hx</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span> =&gt;-&gt;-&gt;.<br/>
<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">Hu'</span> [<span class="id" title="var">l2</span> <span class="id" title="var">Hl2</span>]].<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">Hl2</span> =&gt; <span class="id" title="var">Hxl2</span> <span class="id" title="var">Hs'</span> <span class="id" title="var">Hl'</span> <span class="id" title="var">Hts</span> <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hs'</span> <span class="id" title="var">Hl'</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_cat</span>.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>; <span class="id" title="tactic">case</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">setCP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">setDP</span> =&gt; [<span class="id" title="var">Hy'</span> <span class="id" title="var">Hsy</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hsy</span>; <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">setCP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">setDP</span> =&gt; [<span class="id" title="var">Hy'</span> <span class="id" title="var">Hsy</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<span class="id" title="lemma">setCP</span>: (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">Hy</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="foldr_pdfs_subset"><span class="id" title="lemma">foldr_pdfs_subset</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">l0</span> (<span class="id" title="var">s</span> : <span class="id" title="notation">{</span><span class="id" title="notation">set</span> <a class="idref" href="chip.topos.html#ToposTseq.V"><span class="id" title="variable">V</span></a><span class="id" title="notation">}</span>) <span class="id" title="var">l</span> <span class="id" title="var">s'</span> <span class="id" title="var">l'</span>,<br/>
&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="chip.topos.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="chip.topos.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">~:</span> <a class="idref" href="chip.topos.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<span class="id" title="definition">foldr</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="chip.topos.html#ToposTseq.V"><span class="id" title="variable">V</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4"><span class="id" title="notation">(</span></a><a class="idref" href="chip.kosaraju.html#pdfs"><span class="id" title="definition">pdfs</span></a> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#d89396f990d6b54d736cfe259e498cf4"><span class="id" title="notation">)^~</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="chip.topos.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.topos.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="chip.topos.html#l0"><span class="id" title="variable">l0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="chip.topos.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.topos.html#l'"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="chip.topos.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="chip.topos.html#l'"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">~:</span> <a class="idref" href="chip.topos.html#s'"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">elim</span> =&gt; //=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">s</span> <span class="id" title="var">l'</span> <span class="id" title="var">s'</span> <span class="id" title="var">l0</span> <span class="id" title="var">Hu</span> <span class="id" title="var">Hs</span>; <span class="id" title="tactic">case</span> =&gt;&lt;-&lt;-.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">l</span> <span class="id" title="var">IH</span> <span class="id" title="var">s</span> <span class="id" title="var">l0</span> <span class="id" title="var">s'</span> <span class="id" title="var">l'</span> <span class="id" title="var">Hl0</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="tactic">set</span> <span class="id" title="var">f</span> := <span class="id" title="definition">foldr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">Hf</span>: <span class="id" title="var">f</span>.<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">Hb</span> <span class="id" title="var">Ha</span>] := <span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hl0</span> <span class="id" title="var">Hs</span> <span class="id" title="var">Hf</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hu</span> := <a class="idref" href="chip.topos.html#pdfs_uniq"><span class="id" title="lemma">pdfs_uniq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">Hb</span> <span class="id" title="var">Ha</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>.<br/>
<span class="id" title="tactic">split</span> =&gt; //.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hp</span>.<br/>
<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.topos.html#pdfs_subset"><span class="id" title="lemma">pdfs_subset</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tseq_uniq"><span class="id" title="lemma">tseq_uniq</span></a> : <span class="id" title="definition">uniq</span> (<a class="idref" href="chip.kosaraju.html#tseq"><span class="id" title="definition">tseq</span></a> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.kosaraju.html#tseq"><span class="id" title="definition">tseq</span></a>.<br/>
<span class="id" title="tactic">set</span> <span class="id" title="var">f</span> := <a class="idref" href="chip.kosaraju.html#pdfs"><span class="id" title="definition">pdfs</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="tactic">set</span> <span class="id" title="var">l</span> := <span class="id" title="abbreviation">enum</span> <a class="idref" href="chip.topos.html#ToposTseq.V"><span class="id" title="variable">V</span></a>.<br/>
<span class="id" title="var">have</span> -&gt;: <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">rev</span> (<span class="id" title="definition">rev</span> <span class="id" title="var">l</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">revK</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">foldl_rev</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hu</span>: <span class="id" title="definition">uniq</span> (<span class="id" title="definition">rev</span> <span class="id" title="var">l</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">rev_uniq</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="lemma">enum_uniq</span>.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hu</span>.<br/>
<span class="id" title="tactic">set</span> <span class="id" title="var">l'</span> := <span class="id" title="definition">rev</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">l'</span> =&gt; {<span class="id" title="var">l</span>}.<br/>
<span class="id" title="tactic">elim</span> =&gt; //=.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">l</span> <span class="id" title="var">IH</span>.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hx</span> <span class="id" title="var">Hul</span>].<br/>
<span class="id" title="tactic">set</span> <span class="id" title="var">f'</span> := <span class="id" title="definition">foldr</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">Hf'</span>: <span class="id" title="var">f'</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hue</span>: @<span class="id" title="definition">uniq</span> <a class="idref" href="chip.topos.html#ToposTseq.V"><span class="id" title="variable">V</span></a> <span class="id" title="notation">[::]</span> <span class="id" title="tactic">by</span> [].<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hss</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <span class="id" title="notation">[::]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="notation">~:</span> <span class="id" title="notation">[</span><span class="id" title="notation">set</span><span class="id" title="notation">:</span> <a class="idref" href="chip.topos.html#ToposTseq.V"><span class="id" title="variable">V</span></a><span class="id" title="notation">]</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a> <span class="id" title="tactic">by</span> [].<br/>
<span class="id" title="var">have</span> [<span class="id" title="var">Huf</span> <span class="id" title="var">Hus</span>] := <a class="idref" href="chip.topos.html#foldr_pdfs_subset"><span class="id" title="lemma">foldr_pdfs_subset</span></a> <span class="id" title="var">Hue</span> <span class="id" title="var">Hss</span> <span class="id" title="var">Hf'</span>.<br/>
<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.topos.html#pdfs_uniq"><span class="id" title="lemma">pdfs_uniq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tseq_connect_before"><span class="id" title="lemma">tseq_connect_before</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.topos.html#ToposTseq.V"><span class="id" title="variable">V</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> (<span class="id" title="definition">grel</span> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a>) <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.topos.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> (<a class="idref" href="chip.kosaraju.html#tseq"><span class="id" title="definition">tseq</span></a> <a class="idref" href="chip.topos.html#ToposTseq.successors"><span class="id" title="variable">successors</span></a>) <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.topos.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.topos.html#ts_connect_before"><span class="id" title="lemma">ts_connect_before</span></a> =&gt; //.<br/>
- <span class="id" title="tactic">exact</span>: <a class="idref" href="chip.topos.html#tseq_sorted"><span class="id" title="lemma">tseq_sorted</span></a>.<br/>
- <span class="id" title="tactic">exact</span>: <a class="idref" href="chip.topos.html#tseq_all"><span class="id" title="lemma">tseq_all</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="chip.topos.html#ToposTseq"><span class="id" title="section">ToposTseq</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="ToposTseqRel"><span class="id" title="section">ToposTseqRel</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="ToposTseqRel.V"><span class="id" title="variable">V</span></a> : <span class="id" title="abbreviation">finType</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="ToposTseqRel.g"><span class="id" title="variable">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="chip.topos.html#ToposTseqRel.V"><span class="id" title="variable">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="ToposTseqRel.g_acyclic"><span class="id" title="variable">g_acyclic</span></a> : <a class="idref" href="chip.acyclic.html#acyclic"><span class="id" title="definition">acyclic</span></a> <a class="idref" href="chip.topos.html#ToposTseqRel.g"><span class="id" title="variable">g</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tseq_rgraph_connect_before"><span class="id" title="lemma">tseq_rgraph_connect_before</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.topos.html#ToposTseqRel.V"><span class="id" title="variable">V</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.topos.html#ToposTseqRel.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.topos.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> (<a class="idref" href="chip.kosaraju.html#tseq"><span class="id" title="definition">tseq</span></a> (<span class="id" title="definition">rgraph</span> <a class="idref" href="chip.topos.html#ToposTseqRel.g"><span class="id" title="variable">g</span></a>)) <a class="idref" href="chip.topos.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.topos.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.topos.html#tseq_connect_before"><span class="id" title="lemma">tseq_connect_before</span></a>.<br/>
- <span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.acyclic.html#acyclic"><span class="id" title="definition">acyclic</span></a> =&gt; <span class="id" title="var">z</span> <span class="id" title="var">p</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">Hcp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hpp</span>: <span class="id" title="definition">path</span> <a class="idref" href="chip.topos.html#ToposTseqRel.g"><span class="id" title="variable">g</span></a> <span class="id" title="var">z</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">p</span> <span class="id" title="var">z</span> <span class="id" title="var">Hp</span> {<span class="id" title="var">Hcp</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">z</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">z0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> {1}/<span class="id" title="definition">rgraph</span> <span class="id" title="lemma">mem_enum</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; /= [<span class="id" title="var">Hz</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: (<a class="idref" href="chip.topos.html#ToposTseqRel.g_acyclic"><span class="id" title="variable">g_acyclic</span></a> <span class="id" title="var">Hpp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hcp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= 2!<span class="id" title="lemma">rcons_path</span> /<span class="id" title="definition">grel</span> /<span class="id" title="definition">rgraph</span> /= <span class="id" title="lemma">mem_enum</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hpz</span> <span class="id" title="var">Hz</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">rewrite</span> /<span class="id" title="definition">grel</span> /<span class="id" title="definition">rgraph</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="lemma">eq_connect</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x'</span> <span class="id" title="var">y'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= <span class="id" title="lemma">mem_enum</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="chip.topos.html#ToposTseqRel"><span class="id" title="section">ToposTseqRel</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
