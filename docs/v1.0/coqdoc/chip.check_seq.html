<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./">Project Page</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">chip.check_seq</h1>

<div class="code">
<span class="id" title="var">From</span> <span class="id" title="var">mathcomp</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">all_ssreflect</span>.<br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">chip</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="chip.extra.html#"><span class="id" title="library">extra</span></a> <a class="idref" href="chip.closure.html#"><span class="id" title="library">closure</span></a> <a class="idref" href="chip.connect.html#"><span class="id" title="library">connect</span></a> <a class="idref" href="chip.check.html#"><span class="id" title="library">check</span></a> <a class="idref" href="chip.change.html#"><span class="id" title="library">change</span></a> <a class="idref" href="chip.acyclic.html#"><span class="id" title="library">acyclic</span></a> <a class="idref" href="chip.kosaraju.html#"><span class="id" title="library">kosaraju</span></a> <a class="idref" href="chip.topos.html#"><span class="id" title="library">topos</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Printing</span> <span class="id" title="keyword">Implicit</span> <span class="id" title="var">Defensive</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="CheckedSeq"><span class="id" title="section">CheckedSeq</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.A"><span class="id" title="variable">A</span></a> : <span class="id" title="abbreviation">eqType</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.V'"><span class="id" title="variable">V'</span></a> : <span class="id" title="abbreviation">finType</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> (<a name="CheckedSeq.f'"><span class="id" title="variable">f'</span></a> : <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.P"><span class="id" title="variable">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="V"><span class="id" title="abbreviation">V</span></a> := (<span class="id" title="definition">sig_finType</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.P"><span class="id" title="variable">P</span></a>).<br/>

<br/>
<span class="id" title="keyword">Variable</span> (<a name="CheckedSeq.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.A"><span class="id" title="variable">A</span></a>).<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.grev"><span class="id" title="variable">grev</span></a> : <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.clos"><span class="id" title="variable">clos</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="CheckedSeq.closP"><span class="id" title="variable">closP</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">successors</span> (<span class="id" title="var">s</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a>) (<span class="id" title="var">x</span> : <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <span class="id" title="definition">connect</span> (<span class="id" title="definition">grel</span> <a class="idref" href="chip.check_seq.html#successors"><span class="id" title="variable">successors</span></a>) <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.clos"><span class="id" title="variable">clos</span></a> <a class="idref" href="chip.check_seq.html#successors"><span class="id" title="variable">successors</span></a> <a class="idref" href="chip.check_seq.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="CheckedSeq.clos_uniq"><span class="id" title="variable">clos_uniq</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">successors</span> (<span class="id" title="var">s</span> : <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="chip.check_seq.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">uniq</span> (<a class="idref" href="chip.check_seq.html#CheckedSeq.clos"><span class="id" title="variable">clos</span></a> <a class="idref" href="chip.check_seq.html#successors"><span class="id" title="variable">successors</span></a> <a class="idref" href="chip.check_seq.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.ts"><span class="id" title="variable">ts</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">T</span> : <span class="id" title="abbreviation">finType</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="chip.check_seq.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#T"><span class="id" title="variable">T</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="CheckedSeq.ts_tsorted"><span class="id" title="variable">ts_tsorted</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <span class="id" title="abbreviation">finType</span>) (<span class="id" title="var">successors</span> : <a class="idref" href="chip.check_seq.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#T"><span class="id" title="variable">T</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#tsorted"><span class="id" title="definition">tsorted</span></a> (<span class="id" title="definition">grel</span> <a class="idref" href="chip.check_seq.html#successors"><span class="id" title="variable">successors</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred_of_simpl"><span class="id" title="definition">pred_of_simpl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#predT"><span class="id" title="definition">predT</span></a>) (<a class="idref" href="chip.check_seq.html#CheckedSeq.ts"><span class="id" title="variable">ts</span></a> <a class="idref" href="chip.check_seq.html#successors"><span class="id" title="variable">successors</span></a>).<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="CheckedSeq.ts_all"><span class="id" title="variable">ts_all</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <span class="id" title="abbreviation">finType</span>) <span class="id" title="var">successors</span> (<span class="id" title="var">x</span> : <a class="idref" href="chip.check_seq.html#T"><span class="id" title="variable">T</span></a>), <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="chip.check_seq.html#CheckedSeq.ts"><span class="id" title="variable">ts</span></a> <a class="idref" href="chip.check_seq.html#successors"><span class="id" title="variable">successors</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="CheckedSeq.ts_uniq"><span class="id" title="variable">ts_uniq</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">T</span> : <span class="id" title="abbreviation">finType</span>) (<span class="id" title="var">successors</span> : <a class="idref" href="chip.check_seq.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#T"><span class="id" title="variable">T</span></a>), <span class="id" title="definition">uniq</span> (<a class="idref" href="chip.check_seq.html#CheckedSeq.ts"><span class="id" title="variable">ts</span></a> <a class="idref" href="chip.check_seq.html#successors"><span class="id" title="variable">successors</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="seq_modifiedV"><span class="id" title="definition">seq_modifiedV</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="abbreviation">enum</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a> <span class="id" title="notation">|</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">!=</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a>)<span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="seq_impactedV"><span class="id" title="definition">seq_impactedV</span></a> := <a class="idref" href="chip.check_seq.html#CheckedSeq.clos"><span class="id" title="variable">clos</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.grev"><span class="id" title="variable">grev</span></a> <a class="idref" href="chip.check_seq.html#seq_modifiedV"><span class="id" title="definition">seq_modifiedV</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="seq_impactedV'"><span class="id" title="definition">seq_impactedV'</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="notation">(</span><span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.check_seq.html#seq_impactedV"><span class="id" title="definition">seq_impactedV</span></a><span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="seq_freshV'"><span class="id" title="definition">seq_freshV'</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="abbreviation">enum</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a> <span class="id" title="notation">|</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b3ebd0deddd84fd60e149cb5ef719351"><span class="id" title="notation">~~</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.P"><span class="id" title="variable">P</span></a> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="seq_checkable_impacted"><span class="id" title="definition">seq_checkable_impacted</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.check_seq.html#seq_impactedV'"><span class="id" title="definition">seq_impactedV'</span></a> <span class="id" title="notation">|</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a><span class="id" title="notation">]</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="seq_impacted_fresh"><span class="id" title="definition">seq_impacted_fresh</span></a> := <a class="idref" href="chip.check_seq.html#seq_impactedV'"><span class="id" title="definition">seq_impactedV'</span></a> <span class="id" title="notation">++</span> <a class="idref" href="chip.check_seq.html#seq_freshV'"><span class="id" title="definition">seq_freshV'</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="seq_checkable_impacted_fresh"><span class="id" title="definition">seq_checkable_impacted_fresh</span></a> := <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh"><span class="id" title="definition">seq_impacted_fresh</span></a> <span class="id" title="notation">|</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.g"><span class="id" title="variable">g</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="CheckedSeq.g_grev"><span class="id" title="variable">g_grev</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <span class="id" title="definition">grel</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.grev"><span class="id" title="variable">grev</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="seq_modifiedV_eq"><span class="id" title="lemma">seq_modifiedV_eq</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="chip.check.html#modifiedV"><span class="id" title="definition">modifiedV</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="chip.check_seq.html#seq_modifiedV"><span class="id" title="definition">seq_modifiedV</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span> <span class="id" title="lemma">mem_filter</span> <span class="id" title="lemma">mem_enum</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andb_idr"><span class="id" title="lemma">andb_idr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="seq_freshV'_eq"><span class="id" title="lemma">seq_freshV'_eq</span></a> :<br/>
&nbsp;<a class="idref" href="chip.check.html#freshV'"><span class="id" title="definition">freshV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="chip.check_seq.html#seq_freshV'"><span class="id" title="definition">seq_freshV'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check.html#sub_freshV'"><span class="id" title="lemma">sub_freshV'</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_enum</span> /=.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andb_idr"><span class="id" title="lemma">andb_idr</span></a> //.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a><span class="id" title="notation">]</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insubN</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">i</span> <span class="id" title="lemma">insubT</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="seq_impactedV'_eq"><span class="id" title="lemma">seq_impactedV'_eq</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="chip.check.html#impactedVV'"><span class="id" title="definition">impactedVV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> (<a class="idref" href="chip.check.html#modifiedV"><span class="id" title="definition">modifiedV</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="chip.check_seq.html#seq_impactedV'"><span class="id" title="definition">seq_impactedV'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">imsetP</span>.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>.<br/>
- <span class="id" title="tactic">move</span>/<span class="id" title="lemma">mapP</span> =&gt; [<span class="id" title="var">y</span> <span class="id" title="var">Hy</span>] <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/(<a class="idref" href="chip.check_seq.html#CheckedSeq.closP"><span class="id" title="variable">closP</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.grev"><span class="id" title="variable">grev</span></a>) =&gt; [<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>] <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#seq_modifiedV_eq"><span class="id" title="lemma">seq_modifiedV_eq</span></a> =&gt; <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">y</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#impactedVP"><span class="id" title="lemma">impactedVP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">connectP</span>: <span class="id" title="var">Hc</span> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> <span class="id" title="var">v</span> <span class="id" title="var">Hp</span> {<span class="id" title="var">Hv</span> <span class="id" title="var">Hl</span>} =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hv</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="chip.check_seq.html#CheckedSeq.g_grev"><span class="id" title="variable">g_grev</span></a> <span class="id" title="var">v0</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= =&gt;-&gt;.<br/>
- <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> =&gt; <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">y</span> <span class="id" title="var">Hy</span>] <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">mapP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">y</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="chip.check.html#impactedVP"><span class="id" title="lemma">impactedVP</span></a>: <span class="id" title="var">Hy</span> =&gt; [<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>] <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hv</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.check_seq.html#seq_modifiedV_eq"><span class="id" title="lemma">seq_modifiedV_eq</span></a> =&gt;  <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/(<a class="idref" href="chip.check_seq.html#CheckedSeq.closP"><span class="id" title="variable">closP</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.grev"><span class="id" title="variable">grev</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">connectP</span>: <span class="id" title="var">Hc</span> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">p</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> <span class="id" title="var">v</span> <span class="id" title="var">Hp</span> {<span class="id" title="var">Hv</span> <span class="id" title="var">Hl</span>} =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hv</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="chip.check_seq.html#CheckedSeq.g_grev"><span class="id" title="variable">g_grev</span></a> <span class="id" title="var">v0</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= =&gt;-&gt;.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="seq_impacted_fresh_eq"><span class="id" title="lemma">seq_impacted_fresh_eq</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh"><span class="id" title="definition">seq_impacted_fresh</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#impactedV'P"><span class="id" title="lemma">impactedV'P</span></a>.<br/>
<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>.<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_cat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.check_seq.html#seq_impactedV'_eq"><span class="id" title="lemma">seq_impactedV'_eq</span></a> =&gt; <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">mapP</span>: <span class="id" title="var">Hv</span> =&gt; [<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>] <span class="id" title="var">Hvx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#freshV'P"><span class="id" title="lemma">freshV'P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: (<span class="id" title="var">Hf</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">Hp</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check.html#sub_freshV'"><span class="id" title="lemma">sub_freshV'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a><span class="id" title="notation">]</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">imsetP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hvx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hvx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">valP</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.check_seq.html#seq_impactedV'_eq"><span class="id" title="lemma">seq_impactedV'_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">Hi</span> <span class="id" title="var">Hf</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_cat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">Hf</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_cat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#seq_freshV'_eq"><span class="id" title="lemma">seq_freshV'_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="seq_checkable_impacted_fresh_eq"><span class="id" title="lemma">seq_checkable_impacted_fresh_eq</span></a> :<br/>
&nbsp;<a class="idref" href="chip.check.html#checkable_impactedV'"><span class="id" title="definition">checkable_impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="chip.check_seq.html#seq_checkable_impacted_fresh"><span class="id" title="definition">seq_checkable_impacted_fresh</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andbC"><span class="id" title="lemma">andbC</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andb_id2l"><span class="id" title="lemma">andb_id2l</span></a> =&gt; <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh_eq"><span class="id" title="lemma">seq_impacted_fresh_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="seq_modifiedV_uniq"><span class="id" title="lemma">seq_modifiedV_uniq</span></a> : <span class="id" title="definition">uniq</span> <a class="idref" href="chip.check_seq.html#seq_modifiedV"><span class="id" title="definition">seq_modifiedV</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_uniq</span> // <span class="id" title="lemma">enum_uniq</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="seq_impacted_fresh_uniq"><span class="id" title="lemma">seq_impacted_fresh_uniq</span></a> : <span class="id" title="definition">uniq</span> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh"><span class="id" title="definition">seq_impacted_fresh</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">cat_uniq</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_inj_uniq</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">val_inj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.clos_uniq"><span class="id" title="variable">clos_uniq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="chip.check_seq.html#seq_modifiedV_uniq"><span class="id" title="lemma">seq_modifiedV_uniq</span></a>.<br/>
- <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_uniq</span> // <span class="id" title="lemma">enum_uniq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">hasP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; /= [<span class="id" title="var">x</span> <span class="id" title="var">Hx</span>] <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hx</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#seq_freshV'_eq"><span class="id" title="lemma">seq_freshV'_eq</span></a> -<a class="idref" href="chip.check_seq.html#seq_impactedV'_eq"><span class="id" title="lemma">seq_impactedV'_eq</span></a> =&gt; <span class="id" title="var">Hx</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hx</span>; <span class="id" title="tactic">case</span>; <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="chip.check.html#impactedVV'_freshV'"><span class="id" title="lemma">impactedVV'_freshV'</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="seq_checkable_impacted_fresh_uniq"><span class="id" title="lemma">seq_checkable_impacted_fresh_uniq</span></a> : <span class="id" title="definition">uniq</span> <a class="idref" href="chip.check_seq.html#seq_checkable_impacted_fresh"><span class="id" title="definition">seq_checkable_impacted_fresh</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">filter_uniq</span> //.<br/>
<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#seq_impacted_fresh_uniq"><span class="id" title="lemma">seq_impacted_fresh_uniq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;topological&nbsp;sort&nbsp;of&nbsp;whole&nbsp;graph&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> : <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="CheckedSeq.g'"><span class="id" title="variable">g'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="CheckedSeq.g'_acyclic"><span class="id" title="variable">g'_acyclic</span></a> : <a class="idref" href="chip.acyclic.html#acyclic"><span class="id" title="definition">acyclic</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="CheckedSeq.g'_g'rev"><span class="id" title="variable">g'_g'rev</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#c717e24548d7d4d1086535addc681262"><span class="id" title="notation">=2</span></a> <span class="id" title="definition">grel</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ts_g'rev"><span class="id" title="definition">ts_g'rev</span></a> := <a class="idref" href="chip.check_seq.html#CheckedSeq.ts"><span class="id" title="variable">ts</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_rev_before"><span class="id" title="lemma">ts_rev_before</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev"><span class="id" title="definition">ts_g'rev</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.topos.html#ts_connect_before"><span class="id" title="lemma">ts_connect_before</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
- <span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#CheckedSeq.ts_all"><span class="id" title="variable">ts_all</span></a>.<br/>
- <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.acyclic.html#acyclic_rev"><span class="id" title="lemma">acyclic_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">z</span> <span class="id" title="var">p</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">Hcp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hpp</span>: <span class="id" title="definition">path</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> <span class="id" title="var">z</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">p</span> <span class="id" title="var">z</span> <span class="id" title="var">Hp</span> {<span class="id" title="var">Hcp</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hz</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hz'</span>: <span class="id" title="definition">grel</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> <span class="id" title="var">v</span> <span class="id" title="var">z</span> <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hz'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#CheckedSeq.g'_g'rev"><span class="id" title="variable">g'_g'rev</span></a> /= =&gt; <span class="id" title="var">Hz'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: (<a class="idref" href="chip.check_seq.html#CheckedSeq.g'_acyclic"><span class="id" title="variable">g'_acyclic</span></a> <span class="id" title="var">Hpp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hcp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= 2!<span class="id" title="lemma">rcons_path</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hcp</span> <span class="id" title="var">Hl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hz'</span>: <span class="id" title="definition">grel</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> <span class="id" title="var">z</span> (<span class="id" title="definition">last</span> <span class="id" title="var">z</span> <span class="id" title="var">p</span>) <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hz'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#CheckedSeq.g'_g'rev"><span class="id" title="variable">g'_g'rev</span></a> /= =&gt; <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">apply</span>/<a class="idref" href="chip.connect.html#connect_rev"><span class="id" title="lemma">connect_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(@<span class="id" title="lemma">eq_connect</span> <span class="id" title="var">_</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a>) //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">z0</span> <span class="id" title="var">z1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> -&gt;: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="var">z0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> <span class="id" title="var">z1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="definition">grel</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> <span class="id" title="var">z1</span> <span class="id" title="var">z0</span> <span class="id" title="tactic">by</span> [].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#CheckedSeq.g'_g'rev"><span class="id" title="variable">g'_g'rev</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ts_g'rev_checkable_imf"><span class="id" title="definition">ts_g'rev_checkable_imf</span></a> :=<br/>
&nbsp;<span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.check_seq.html#ts_g'rev"><span class="id" title="definition">ts_g'rev</span></a> <span class="id" title="notation">|</span> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#seq_checkable_impacted_fresh"><span class="id" title="definition">seq_checkable_impacted_fresh</span></a><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_checkable_imf_uniq"><span class="id" title="lemma">ts_g'rev_checkable_imf_uniq</span></a> : <span class="id" title="definition">uniq</span> <a class="idref" href="chip.check_seq.html#ts_g'rev_checkable_imf"><span class="id" title="definition">ts_g'rev_checkable_imf</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span>: <span class="id" title="lemma">filter_uniq</span>.<br/>
<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#CheckedSeq.ts_uniq"><span class="id" title="variable">ts_uniq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="in_ts_g'rev_checkable_imf"><span class="id" title="lemma">in_ts_g'rev_checkable_imf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev_checkable_imf"><span class="id" title="definition">ts_g'rev_checkable_imf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hs</span> <span class="id" title="var">Hx</span>].<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#seq_checkable_impacted_fresh_eq"><span class="id" title="lemma">seq_checkable_impacted_fresh_eq</span></a> <span class="id" title="definition">inE</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hss</span> <span class="id" title="var">Hxx</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_checkable_imf_in"><span class="id" title="lemma">ts_g'rev_checkable_imf_in</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev_checkable_imf"><span class="id" title="definition">ts_g'rev_checkable_imf</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hx</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.ts_all"><span class="id" title="variable">ts_all</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#seq_checkable_impacted_fresh_eq"><span class="id" title="lemma">seq_checkable_impacted_fresh_eq</span></a> <span class="id" title="definition">inE</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_checkable_imf_before"><span class="id" title="lemma">ts_g'rev_checkable_imf_before</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev_checkable_imf"><span class="id" title="definition">ts_g'rev_checkable_imf</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hc</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hc'</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#before_filter"><span class="id" title="lemma">before_filter</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.check_seq.html#ts_rev_before"><span class="id" title="lemma">ts_rev_before</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#seq_checkable_impacted_fresh_eq"><span class="id" title="lemma">seq_checkable_impacted_fresh_eq</span></a> <span class="id" title="definition">inE</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>.<br/>
<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#CheckedSeq.ts_all"><span class="id" title="variable">ts_all</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;topological&nbsp;sort&nbsp;in&nbsp;subgraph&nbsp;of&nbsp;impacted+fresh&nbsp;vertices&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="pimf"><span class="id" title="definition">pimf</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a> := <span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh"><span class="id" title="definition">seq_impacted_fresh</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="V'_imf"><span class="id" title="abbreviation">V'_imf</span></a> := (<span class="id" title="definition">sig_finType</span> <a class="idref" href="chip.check_seq.html#pimf"><span class="id" title="definition">pimf</span></a>).<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="g'_imf"><span class="id" title="abbreviation">g'_imf</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">:</span></a> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>) (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="g'rev_imf"><span class="id" title="definition">g'rev_imf</span></a> (<span class="id" title="var">v</span> : <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a>) : <span class="id" title="abbreviation">seq</span> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">pmap</span> <span class="id" title="definition">insub</span> (<a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ts_g'rev_imf"><span class="id" title="definition">ts_g'rev_imf</span></a> := <a class="idref" href="chip.check_seq.html#CheckedSeq.ts"><span class="id" title="variable">ts</span></a> <a class="idref" href="chip.check_seq.html#g'rev_imf"><span class="id" title="definition">g'rev_imf</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_imf_all"><span class="id" title="lemma">ts_g'rev_imf_all</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a>), <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf"><span class="id" title="definition">ts_g'rev_imf</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#CheckedSeq.ts_all"><span class="id" title="variable">ts_all</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_imf_uniq"><span class="id" title="lemma">ts_g'rev_imf_uniq</span></a> : <span class="id" title="definition">uniq</span> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf"><span class="id" title="definition">ts_g'rev_imf</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#CheckedSeq.ts_uniq"><span class="id" title="variable">ts_uniq</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_imf_before"><span class="id" title="lemma">ts_g'rev_imf_before</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#g'_imf"><span class="id" title="abbreviation">g'_imf</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf"><span class="id" title="definition">ts_g'rev_imf</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.topos.html#ts_connect_before"><span class="id" title="lemma">ts_connect_before</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
- <span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#CheckedSeq.ts_all"><span class="id" title="variable">ts_all</span></a>.<br/>
- <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.acyclic.html#acyclic_rev"><span class="id" title="lemma">acyclic_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">z</span> <span class="id" title="var">p</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> =&gt; <span class="id" title="var">Hc'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hp'</span>: <span class="id" title="definition">path</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> (<span class="id" title="projection">val</span> <span class="id" title="var">z</span>) <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="notation">(</span><span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">p</span><span class="id" title="notation">]</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> <span class="id" title="var">z</span> <span class="id" title="var">Hp</span> {<span class="id" title="var">Hc'</span>} =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hz</span> <span class="id" title="var">Hp</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.check_seq.html#g'rev_imf"><span class="id" title="definition">g'rev_imf</span></a> =&gt; <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">suff</span> <span class="id" title="var">Hsuff</span>: <span class="id" title="definition">grel</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> (<span class="id" title="projection">val</span> <span class="id" title="var">v</span>) (<span class="id" title="projection">val</span> <span class="id" title="var">z</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#CheckedSeq.g'_g'rev"><span class="id" title="variable">g'_g'rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsuff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: (<a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> <span class="id" title="var">_</span>) =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v'</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> /= =&gt; <span class="id" title="var">IH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a><span class="id" title="notation">]</span> <span class="id" title="var">v'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insubT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span> =&gt;-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">SubK</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insubN</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="var">IH'</span> =&gt; <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: (<a class="idref" href="chip.check_seq.html#CheckedSeq.g'_acyclic"><span class="id" title="variable">g'_acyclic</span></a> <span class="id" title="var">Hp'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hc'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= 2!<span class="id" title="lemma">rcons_path</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hc'</span> <span class="id" title="var">Hl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.check_seq.html#g'rev_imf"><span class="id" title="definition">g'rev_imf</span></a> /= =&gt; <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">suff</span> <span class="id" title="var">Hsuff</span>: <span class="id" title="definition">grel</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> (<span class="id" title="projection">val</span> <span class="id" title="var">z</span>) (<span class="id" title="definition">last</span> (<span class="id" title="abbreviation">sval</span> <span class="id" title="var">z</span>) <span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="abbreviation">sval</span> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">|</span> <span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">p</span><span class="id" title="notation">]</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hsuff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#CheckedSeq.g'_g'rev"><span class="id" title="variable">g'_g'rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">l</span> := <a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> <span class="id" title="var">z</span> {<span class="id" title="var">Hp</span> <span class="id" title="var">Hp'</span> <span class="id" title="var">Hc'</span>} =&gt; //=.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">z</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">l</span> <span class="id" title="var">z</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">l</span> <span class="id" title="var">IH</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a><span class="id" title="notation">]</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span> =&gt; //=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insubT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span> =&gt;-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">SubK</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insubN</span> //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="var">IH</span> =&gt; <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">l</span> <span class="id" title="var">IH</span> <span class="id" title="var">v0</span> <span class="id" title="var">l'</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <span class="id" title="var">IH</span>.<br/>
- <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#connect_rev"><span class="id" title="lemma">connect_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(@<span class="id" title="lemma">eq_connect</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>) (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#fea9f4d81fed4d4bd9309c8e510110f0"><span class="id" title="notation">]</span></a>) //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x'</span> <span class="id" title="var">y'</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<a class="idref" href="chip.check_seq.html#CheckedSeq.g'_g'rev"><span class="id" title="variable">g'_g'rev</span></a> (<span class="id" title="projection">val</span> <span class="id" title="var">y'</span>) (<span class="id" title="projection">val</span> <span class="id" title="var">x'</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= =&gt;-&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.check_seq.html#g'rev_imf"><span class="id" title="definition">g'rev_imf</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: (<a class="idref" href="chip.check_seq.html#CheckedSeq.g'rev"><span class="id" title="variable">g'rev</span></a> <span class="id" title="var">_</span>) =&gt; //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v'</span> <span class="id" title="var">l0</span> <span class="id" title="var">IH'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span> <span class="id" title="var">IH'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a><span class="id" title="notation">]</span> <span class="id" title="var">v'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insubT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insubN</span> //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ifP"><span class="id" title="lemma">ifP</span></a>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hx</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a> =&gt; <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">Hs</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span> =&gt; <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">x'</span> {<span class="id" title="var">IH'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hs</span>}.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ts_g'rev_imf_checkable"><span class="id" title="definition">ts_g'rev_imf_checkable</span></a> :=<br/>
&nbsp;<span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf"><span class="id" title="definition">ts_g'rev_imf</span></a> <span class="id" title="notation">|</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>)<span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_imf_checkable_before"><span class="id" title="lemma">ts_g'rev_imf_checkable_before</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#g'_imf"><span class="id" title="abbreviation">g'_imf</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_checkable"><span class="id" title="definition">ts_g'rev_imf_checkable</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="tactic">apply</span>: <a class="idref" href="chip.connect.html#before_filter"><span class="id" title="lemma">before_filter</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_before"><span class="id" title="lemma">ts_g'rev_imf_before</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>: <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_all"><span class="id" title="lemma">ts_g'rev_imf_all</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="ts_g'rev_imf_checkable_val"><span class="id" title="definition">ts_g'rev_imf_checkable_val</span></a> :=<br/>
&nbsp;<span class="id" title="notation">[</span><span class="id" title="notation">seq</span> <span class="id" title="notation">(</span><span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">|</span> <span class="id" title="var">x</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_checkable"><span class="id" title="definition">ts_g'rev_imf_checkable</span></a><span class="id" title="notation">]</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_imf_checkable_val_uniq"><span class="id" title="lemma">ts_g'rev_imf_checkable_val_uniq</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="definition">uniq</span> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_checkable_val"><span class="id" title="definition">ts_g'rev_imf_checkable_val</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">map_inj_uniq</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">val_inj</span>.<br/>
<span class="id" title="tactic">apply</span>: <span class="id" title="lemma">filter_uniq</span>.<br/>
<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_uniq"><span class="id" title="lemma">ts_g'rev_imf_uniq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="in_ts_g'rev_imf_checkable_val"><span class="id" title="lemma">in_ts_g'rev_imf_checkable_val</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_checkable_val"><span class="id" title="definition">ts_g'rev_imf_checkable_val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">move</span>/<span class="id" title="lemma">mapP</span> =&gt; [<span class="id" title="var">x'</span> <span class="id" title="var">Hx'</span>] <span class="id" title="var">Hx</span>.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hx'</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span> =&gt; /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">Hxc</span> <span class="id" title="var">Hxt</span>].<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">split</span> =&gt; //.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh_eq"><span class="id" title="lemma">seq_impacted_fresh_eq</span></a>.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hxt</span>.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>: <span class="id" title="var">x'</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hxc</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_imf_checkable_val_in"><span class="id" title="lemma">ts_g'rev_imf_checkable_val_in</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_checkable_val"><span class="id" title="definition">ts_g'rev_imf_checkable_val</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh_eq"><span class="id" title="lemma">seq_impacted_fresh_eq</span></a> =&gt; <span class="id" title="var">Hx</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a><span class="id" title="notation">]</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">i</span>.<br/>
<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">mapP</span>.<br/>
<span class="id" title="tactic">exists</span> <span class="id" title="var">u</span> =&gt; //.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">mem_filter</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_all"><span class="id" title="lemma">ts_g'rev_imf_all</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;goal:&nbsp;generate&nbsp;sequence&nbsp;as&nbsp;though&nbsp;we&nbsp;did&nbsp;the&nbsp;topological&nbsp;sort&nbsp;for&nbsp;the&nbsp;whole&nbsp;graph&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> <a name="gV'"><span class="id" title="abbreviation">gV'</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">rel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">:</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">|</span></a> <a class="idref" href="chip.change.html#insub_g"><span class="id" title="definition">insub_g</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b10b133940ca4a77925bb31e7ba5d15e"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> <a name="CheckedSeq.f_equal_g"><span class="id" title="variable">f_equal_g</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">v</span>, <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">v'</span>, <a class="idref" href="chip.check_seq.html#gV'"><span class="id" title="abbreviation">gV'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="chip.check_seq.html#v'"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="chip.check_seq.html#v'"><span class="id" title="variable">v'</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Outline:&nbsp;if&nbsp;the&nbsp;path&nbsp;from&nbsp;x&nbsp;to&nbsp;y&nbsp;has&nbsp;any&nbsp;non-impacted,&nbsp;non-fresh&nbsp;vertices,<br/>
&nbsp;&nbsp;&nbsp;then&nbsp;those&nbsp;vertices&nbsp;have&nbsp;a&nbsp;path&nbsp;to&nbsp;a&nbsp;modified&nbsp;vertex,&nbsp;and&nbsp;are&nbsp;thus&nbsp;impacted&nbsp;as&nbsp;well&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="non_impacted_rel"><span class="id" title="lemma">non_impacted_rel</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> : <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a>) <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="chip.check.html#impactedV'P"><span class="id" title="lemma">impactedV'P</span></a> =&gt; <span class="id" title="var">Hx</span> <span class="id" title="var">Hg</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#impactedV'P"><span class="id" title="lemma">impactedV'P</span></a>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hy</span>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">Hx</span>.<br/>
<span class="id" title="tactic">case</span>: <span class="id" title="var">Hy</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">Hy</span> <span class="id" title="var">Hy'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#freshV'P"><span class="id" title="lemma">freshV'P</span></a> =&gt; <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: (<span class="id" title="var">Hv</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">imsetP</span>: <span class="id" title="var">Hy</span> =&gt; [<span class="id" title="var">u</span> <span class="id" title="var">Hu</span>] <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hf</span>: (<a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="notation">==</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> (<span class="id" title="projection">val</span> <span class="id" title="var">x</span>)); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hf</span> =&gt; <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">imsetP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#impactedVP"><span class="id" title="lemma">impactedVP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hf</span> =&gt; <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -(<a class="idref" href="chip.check_seq.html#CheckedSeq.f_equal_g"><span class="id" title="variable">f_equal_g</span></a> <span class="id" title="var">Hf</span>) /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hg</span> := <a class="idref" href="chip.change.html#ginsub_eq"><span class="id" title="lemma">ginsub_eq</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <span class="id" title="var">x</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= =&gt;&lt;- <span class="id" title="var">Hg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">imsetP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="chip.check.html#impactedVP"><span class="id" title="lemma">impactedVP</span></a>: <span class="id" title="var">Hu</span> =&gt; [<span class="id" title="var">v</span> <span class="id" title="var">Hv</span>] <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#impactedVP"><span class="id" title="lemma">impactedVP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">v</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.connect.html#connect_rev"><span class="id" title="lemma">connect_rev</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="chip.connect.html#connect_rev"><span class="id" title="lemma">connect_rev</span></a>: <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<span class="id" title="lemma">connectP</span> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">u</span> <span class="id" title="notation">::</span> <span class="id" title="var">p</span>) =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">Hy</span> <span class="id" title="var">Hy'</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> <span class="id" title="var">Hf</span>: (<a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> <span class="id" title="notation">==</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> (<span class="id" title="projection">val</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span>: <span class="id" title="var">Hf</span> =&gt; <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hfg</span> := <a class="idref" href="chip.check_seq.html#CheckedSeq.f_equal_g"><span class="id" title="variable">f_equal_g</span></a> <span class="id" title="var">Hf</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /= <span class="id" title="tactic">in</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="chip.check.html#freshV'P"><span class="id" title="lemma">freshV'P</span></a>: <span class="id" title="var">Hy</span> =&gt; <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hg</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.change.html#insub_g"><span class="id" title="definition">insub_g</span></a> /= <span class="id" title="lemma">insubT</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">valP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hxp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a><span class="id" title="notation">]</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insubN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: (<span class="id" title="var">Hy</span> <span class="id" title="var">u</span>); <span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">eqP</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hf</span> =&gt; <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">imsetP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#impactedVP"><span class="id" title="lemma">impactedVP</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span> =&gt; //.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="definition">inE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#freshV'P"><span class="id" title="lemma">freshV'P</span></a> =&gt; <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: (<span class="id" title="var">Hv</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_imp"><span class="id" title="lemma">connect_imp</span></a> :  <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
<span class="id" title="tactic">move</span>/<span class="id" title="lemma">connectP</span> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">Hl</span>.<br/>
<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hl</span> =&gt; //=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">Hp</span> &lt;-.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v'</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hg</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">Hl</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">IH'</span> := <span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hl</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#impactedV'P"><span class="id" title="lemma">impactedV'P</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check.html#sub_freshV'"><span class="id" title="lemma">sub_freshV'</span></a>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V"><span class="id" title="abbreviation">V</span></a><span class="id" title="notation">]</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; //.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">imsetP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span> =&gt; <span class="id" title="var">x0</span> <span class="id" title="var">Hx0</span> <span class="id" title="var">Hvx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hvx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">valP</span>.<br/>
<span class="id" title="tactic">left</span>.<br/>
<span class="id" title="tactic">split</span> =&gt; //.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hg</span>.<br/>
<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> =&gt; <span class="id" title="var">Hg</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">Hc</span>: (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">_</span>) =&gt; //.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hc</span> =&gt; <span class="id" title="var">Hc'</span>.<br/>
<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">IH'</span>.<br/>
<span class="id" title="tactic">case</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>.<br/>
<span class="id" title="tactic">move</span>: <span class="id" title="var">Hg</span>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check_seq.html#non_impacted_rel"><span class="id" title="lemma">non_impacted_rel</span></a>.<br/>
<span class="id" title="tactic">apply</span>/<a class="idref" href="chip.check.html#impactedV'P"><span class="id" title="lemma">impactedV'P</span></a>.<br/>
<span class="id" title="tactic">case</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">Hu</span> <span class="id" title="var">Hf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">Hc'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>.<br/>
- <span class="id" title="tactic">move</span> =&gt; [<span class="id" title="var">Hu</span> <span class="id" title="var">Hf</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="chip.check.html#freshV'P"><span class="id" title="lemma">freshV'P</span></a>: <span class="id" title="var">Hu</span> =&gt; <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: (<span class="id" title="var">Hu</span> <span class="id" title="var">u</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="connect_g'_imf"><span class="id" title="lemma">connect_g'_imf</span></a> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a>),<br/>
&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>) (<span class="id" title="projection">val</span> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#g'_imf"><span class="id" title="abbreviation">g'_imf</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="tactic">move</span>/<span class="id" title="lemma">connectP</span> =&gt; [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">Hl</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hx</span>: <span class="id" title="projection">val</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh_eq"><span class="id" title="lemma">seq_impacted_fresh_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">valP</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hy</span>: <span class="id" title="projection">val</span> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh_eq"><span class="id" title="lemma">seq_impacted_fresh_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<span class="id" title="lemma">valP</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hpi</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">z</span> : <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a>, <a class="idref" href="chip.check_seq.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> <a class="idref" href="chip.check_seq.html#z"><span class="id" title="variable">z</span></a> (<span class="id" title="projection">val</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hp</span> <span class="id" title="var">Hl</span> {<span class="id" title="var">Hx</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> <span class="id" title="var">vx</span> := <span class="id" title="projection">val</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">p</span> <span class="id" title="var">vx</span> =&gt; {<span class="id" title="var">x</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span> =&gt; //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hg</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">Hl</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span>/<span class="id" title="lemma">eqP</span> =&gt;-&gt;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">exists</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hpf</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">z</span> : <a class="idref" href="chip.check_seq.html#CheckedSeq.V'"><span class="id" title="variable">V'</span></a>, <a class="idref" href="chip.check_seq.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.check_seq.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh"><span class="id" title="definition">seq_impacted_fresh</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#seq_impacted_fresh_eq"><span class="id" title="lemma">seq_impacted_fresh_eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>: (<span class="id" title="var">Hpi</span> <span class="id" title="var">_</span> <span class="id" title="var">Hz</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span>: <a class="idref" href="chip.check_seq.html#connect_imp"><span class="id" title="lemma">connect_imp</span></a>.<br/>
<span class="id" title="tactic">apply</span>/<span class="id" title="lemma">connectP</span>.<br/>
<span class="id" title="tactic">exists</span> (<span class="id" title="definition">pmap</span> <span class="id" title="definition">insub</span> <span class="id" title="var">p</span>); <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
- <span class="id" title="tactic">move</span> {<span class="id" title="var">Hp</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hpi</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hpf</span> =&gt; //=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span>; <span class="id" title="tactic">move</span>/<span class="id" title="lemma">val_inj</span> =&gt;-&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">x0</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hpf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hx</span>: <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh"><span class="id" title="definition">seq_impacted_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">Hpf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a><span class="id" title="notation">]</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">insubT</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">Hpf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">right</span>.<br/>
- <span class="id" title="tactic">move</span> {<span class="id" title="var">Hl</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hpi</span> <span class="id" title="var">Hx</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">elim</span>: <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">Hp</span> <span class="id" title="var">Hpf</span> =&gt; //=.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">v</span> <span class="id" title="var">p</span> <span class="id" title="var">IH</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a> =&gt; [<span class="id" title="var">Hg</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">Hpf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#oapp"><span class="id" title="abbreviation">oapp</span></a> /=.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">Hv</span>: <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check_seq.html#seq_impacted_fresh"><span class="id" title="definition">seq_impacted_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">Hpf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a><span class="id" title="notation">]</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> <span class="id" title="lemma">insubT</span> /=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#andP"><span class="id" title="lemma">andP</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> =&gt; //=; <span class="id" title="tactic">first</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<span class="id" title="abbreviation">sval</span> /=.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span>: <span class="id" title="var">u</span> <span class="id" title="var">e</span> <span class="id" title="var">Hu</span> =&gt; <span class="id" title="var">u</span> <span class="id" title="var">Hu</span> <span class="id" title="var">Hvu</span> <span class="id" title="var">Hpv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">move</span>: <span class="id" title="var">Hvu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> /= =&gt;-&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">z</span> <span class="id" title="var">Hz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span>: <span class="id" title="var">Hpf</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">in_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#orP"><span class="id" title="lemma">orP</span></a>; <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ts_g'rev_imf_checkable_val_before"><span class="id" title="lemma">ts_g'rev_imf_checkable_val_before</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="chip.check.html#impactedV'"><span class="id" title="definition">impactedV'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f'"><span class="id" title="variable">f'</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.f"><span class="id" title="variable">f</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.g"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_checkable_val"><span class="id" title="definition">ts_g'rev_imf_checkable_val</span></a> <a class="idref" href="chip.check_seq.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="chip.check_seq.html#x"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">move</span> =&gt; <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hxc</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hyc</span> <span class="id" title="var">Hc</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">H_sp</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a><span class="id" title="notation">]</span> <span class="id" title="var">x</span>).<br/>
<span class="id" title="var">have</span> <span class="id" title="var">H_sp'</span> := (<span class="id" title="lemma">insubP</span> <span class="id" title="notation">[</span><span class="id" title="notation">subType</span> <span class="id" title="notation">of</span> <a class="idref" href="chip.check_seq.html#V'_imf"><span class="id" title="abbreviation">V'_imf</span></a><span class="id" title="notation">]</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.check_seq.html#pimf"><span class="id" title="definition">pimf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#seq_impacted_fresh_eq"><span class="id" title="lemma">seq_impacted_fresh_eq</span></a>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_sp'</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">first</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">case</span>/<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#negP"><span class="id" title="lemma">negP</span></a>: <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.check_seq.html#pimf"><span class="id" title="definition">pimf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<a class="idref" href="chip.check_seq.html#seq_impacted_fresh_eq"><span class="id" title="lemma">seq_impacted_fresh_eq</span></a>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hc'</span>: <span class="id" title="definition">connect</span> <a class="idref" href="chip.check_seq.html#CheckedSeq.g'"><span class="id" title="variable">g'</span></a> (<span class="id" title="projection">val</span> <span class="id" title="var">u</span>) (<span class="id" title="projection">val</span> <span class="id" title="var">u0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="chip.check_seq.html#connect_g'_imf"><span class="id" title="lemma">connect_g'_imf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc'</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Hyc'</span>: <a class="idref" href="chip.check_seq.html#CheckedSeq.checkable'"><span class="id" title="variable">checkable'</span></a> (<span class="id" title="projection">val</span> <span class="id" title="var">u0</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e0</span>.<br/>
<span class="id" title="var">have</span> <span class="id" title="var">Ht</span> := <a class="idref" href="chip.check_seq.html#ts_g'rev_imf_checkable_before"><span class="id" title="lemma">ts_g'rev_imf_checkable_before</span></a> <span class="id" title="var">Hyc'</span> <span class="id" title="var">Hc'</span>.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="chip.connect.html#before"><span class="id" title="definition">before</span></a> /<span class="id" title="definition">index</span>.<br/>
<span class="id" title="tactic">rewrite</span> 2!<span class="id" title="lemma">find_map</span> /=.<br/>
<span class="id" title="tactic">rewrite</span> /<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#preim"><span class="id" title="definition">preim</span></a> /=.<br/>
<span class="id" title="tactic">by</span> <span class="id" title="tactic">rewrite</span> -<span class="id" title="var">e</span> -<span class="id" title="var">e0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="chip.check_seq.html#CheckedSeq"><span class="id" title="section">CheckedSeq</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
